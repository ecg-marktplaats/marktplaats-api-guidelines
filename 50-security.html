

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Security &mdash; eCG API Guidelines 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="eCG API Guidelines 0.1 documentation" href="index.html"/>
        <link rel="next" title="Versioning" href="60-versioning.html"/>
        <link rel="prev" title="Documentation requirements" href="40-documentation-requirements.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> eCG API Guidelines
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00-intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#overview-for-the-busy-developer">Overview for the busy developer</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#history">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#advantages">Advantages</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#the-future">The future</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#conventions">Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05-principles.html">Principles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="05-principles.html#technical-principles">Technical principles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="10-urls-and-uris.html">URLs and URIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#base-url">Base URL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#base-url-should-be-short">Base URL should be short</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#https-must-be-used">Https MUST be used</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#base-url-must-end-in-a-version-number">Base URL MUST end in a version number</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#base-url-s-version-number-may-include-a-minor-version">Base URL&#8217;s version number MAY include a minor version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#url-and-uri-naming">URL and URI naming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#collection-names-should-be-a-plural-noun">Collection names SHOULD be a plural noun</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#document-names-should-be-a-singular-noun">Document names SHOULD be a singular noun</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship">Forward slash separator (<code class="docutils literal"><span class="pre">/</span></code>) MUST be used to indicate a hierarchical relationship</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#uris-should-not-have-a-trailing-forward-slash">URIs SHOULD NOT have a trailing forward slash (<code class="docutils literal"><span class="pre">/</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#hyphens-should-be-used-to-improve-the-readability-of-uris-not-underscores">Hyphens (<code class="docutils literal"><span class="pre">-</span></code>) SHOULD be used to improve the readability of URIs, not underscores (<code class="docutils literal"><span class="pre">_</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#uri-paths-must-use-lowercase-letters">URI paths MUST use lowercase letters</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#actions">Actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#query-parameters">Query parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-query-component-of-a-uri-should-be-used-to-filter-collections">The query component of a URI SHOULD be used to filter collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#query-parameters-offset-and-limit-should-be-used-to-paginate-collections-results">Query parameters <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> SHOULD be used to paginate collections results</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-expand-parameter-may-be-used-for-zooming">The <code class="docutils literal"><span class="pre">_expand</span></code> parameter MAY be used for zooming</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-include-and-exclude-query-parameters-may-be-used-for-selecting-fields">The <code class="docutils literal"><span class="pre">_include</span></code> and <code class="docutils literal"><span class="pre">_exclude</span></code> query parameters MAY be used for selecting fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-body-query-parameter-should-be-used-to-include-exclude-a-response-body">The <code class="docutils literal"><span class="pre">_body</span></code> query parameter SHOULD be used to include/exclude a response body</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-links-query-parameter-should-be-used-to-exclude-hal-s-links-field">The <code class="docutils literal"><span class="pre">_links</span></code> query parameter SHOULD be used to exclude HAL&#8217;s <code class="docutils literal"><span class="pre">_links</span></code> field</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#mimicking-request-methods">Mimicking request methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-callback-parameter-may-be-used-to-return-a-jsonp-response">The <code class="docutils literal"><span class="pre">_callback</span></code> parameter MAY be used to return a JSONP response</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-prettyprint-parameter-may-be-used-to-pretty-print-the-response">The <code class="docutils literal"><span class="pre">_prettyprint</span></code> parameter MAY be used to pretty print the response</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#use-of-underscore-character">Use of underscore character</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="20-resource-representation-format.html">Resource representation format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#resources">Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#serialization-format-hal-in-utf-8-encoding">Serialization format: HAL in UTF-8 encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#the-base-url-is-a-hal-resource">The base URL is a HAL resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#each-resource-should-contain-a-self-link">Each resource SHOULD contain a <code class="docutils literal"><span class="pre">self</span></code> link</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#when-available-iana-registered-relation-types-should-be-used-as-link-relations">When available IANA registered relation types SHOULD be used as link relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#custom-link-relation-types-should-be-uri-s-that-when-dereferenced-in-a-web-browser-provide-relevant-documentation-in-the-form-of-an-html-page">Custom link relation types SHOULD be uri&#8217;s that when dereferenced in a web browser provide relevant documentation, in the form of an HTML page</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#curies-should-be-used-to-improve-readability-of-custom-relation-uris">Curies SHOULD be used to improve readability of custom relation URIs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#binary-resources">Binary resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#resource-collections">Resource collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#collections-must-be-homogeneous">Collections MUST be homogeneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#url-templates-are-recommended-in-links">URL templates are RECOMMENDED in Links</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#representation-and-pagination-of-collection-resources">Representation and pagination of collection resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#representation-and-pagination-of-embedded-collection-resources">Representation and pagination of embedded collection resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#relation-names">Relation names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#relation-names-must-be-in-english-unless-they-represent-a-product-or-company-name">Relation names MUST be in English unless they represent a product or company name</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#words-in-relation-names-must-be-separated-by-a-dash">Words in relation names MUST be separated by a dash <code class="docutils literal"><span class="pre">-</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-names">Field names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-be-in-english-unless-they-represent-a-product-or-company-name">Field names MUST be in English unless they represent a product or company name</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-have-consistent-semantics-and-representation">Field names MUST have consistent semantics and representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-use-camelcase-contain-only-latin-characters-a-z-a-z-0-9">Field names MUST use camelCase, contain only latin characters <code class="docutils literal"><span class="pre">a</span></code> - <code class="docutils literal"><span class="pre">z</span></code>, <code class="docutils literal"><span class="pre">A</span></code> - <code class="docutils literal"><span class="pre">Z</span></code>, <code class="docutils literal"><span class="pre">0</span></code> - <code class="docutils literal"><span class="pre">9</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-start-with-a-lowercase-letter-a-z">Field names MUST start with a lowercase letter, <code class="docutils literal"><span class="pre">a</span></code> - <code class="docutils literal"><span class="pre">z</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-deprecation">Field deprecation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-values">Field values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#structure-field-values">Structure field values</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#optional-fields-should-not-be-serialized-when-they-have-no-value">Optional fields SHOULD NOT be serialized when they have no value</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-timestamp-are-in-iso-8601">Field values that represent a timestamp are in ISO 8601</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-date-are-in-iso-8601">Field values that represent a date are in ISO 8601</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-countries-are-in-iso-3166-1-alpha-2-format">Field values that represent countries are in ISO 3166-1 alpha-2 format</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-currency-are-in-iso-4217">Field values that represent a currency are in ISO 4217</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#all-monetary-amounts-are-represented-as-integers-in-its-smallest-currency-unit">All monetary amounts are represented as integers in its smallest currency unit</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#all-numbers-are-integers-unless-precision-is-not-important">All numbers are integers unless precision is not important</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#binary-field-values">Binary field values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#errors">Errors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#error-messages-follow-a-standard-format">Error messages follow a standard format</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#an-appropriate-status-code-must-be-used-when-serving-an-error-resource">An appropriate status code MUST be used when serving an error resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#stack-traces-must-not-be-included-in-the-error-message">Stack traces MUST NOT be included in the error message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30-interaction-design.html">Interaction design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#request-methods">Request methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#resources-with-etag-support">Resources with <code class="docutils literal"><span class="pre">ETag</span></code> support</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#resources-without-etag-support">Resources without <code class="docutils literal"><span class="pre">ETag</span></code> support</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#post-must-be-used-to-create-a-new-resource-in-a-collection">POST must be used to create a new resource in a collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#put-must-be-used-to-completely-update-a-resource"><code class="docutils literal"><span class="pre">PUT</span></code> must be used to completely update a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#patch-must-be-used-to-partially-update-a-resource"><code class="docutils literal"><span class="pre">PATCH</span></code> must be used to partially update a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#delete-must-be-used-to-remove-a-resource-from-its-parent">DELETE must be used to remove a resource from its parent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#status-codes">Status codes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#ok-should-be-used-to-indicate-nonspecific-success">200 (“OK”) should be used to indicate nonspecific success</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#created-must-be-used-to-indicate-successful-resource-creation">201 (“Created”) must be used to indicate successful resource creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#accepted-must-be-used-to-indicate-successful-start-of-anasynchronous-action">202 (“Accepted”) must be used to indicate successful start of anasynchronous action</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#rule-204-no-content-should-be-used-when-the-response-body-is-intentionally-empty">Rule: 204 (“No Content”) should be used when the response body is intentionally empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#moved-permanently-should-be-used-to-relocate-resources">301 (“Moved Permanently”) should be used to relocate resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#found-should-not-be-used">302 (“Found”) should not be used</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#see-other-should-be-used-to-refer-the-client-to-a-different-uri">303 (“See Other”) should be used to refer the client to a different URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#bad-request-may-be-used-to-indicate-nonspecific-failure">400 (“Bad Request”) may be used to indicate nonspecific failure</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#unauthorized-must-be-used-when-there-is-a-problem-with-the-clients-credentials">401 (“Unauthorized”) must be used when there is a problem with the client’s credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#forbidden-should-be-used-to-forbid-access-regardless-of-authorization-state">403 (“Forbidden”) should be used to forbid access regardless of authorization state</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#not-found-must-be-used-when-a-clients-uri-cannot-be-mapped-to-a-resource">404 (“Not Found”) must be used when a client’s URI cannot be mapped to a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#method-not-allowed-must-be-used-when-the-http-method-is-not-supported">405 (“Method Not Allowed”) must be used when the HTTP method is not supported</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#conflict-should-be-used-to-indicate-a-violation-of-resource-state">409 (“Conflict”) should be used to indicate a violation of resource state</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#precondition-failed-should-be-used-to-support-conditional-operations">412 (“Precondition Failed”) should be used to support conditional operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#internal-server-error-should-be-used-to-indicate-api-malfunction">500 (“Internal Server Error”) should be used to indicate API malfunction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="90-webhooks.html">Webhooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#it-should-be-possible-to-programmatically-register-webhooks-via-the-api">It should be possible to programmatically register webhooks via the api</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#webhooks-may-be-registered-on-all-resource-types">Webhooks may be registered on all resource types</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#the-body-of-a-callback-must-be-a-hal-resource">The body of a callback must be a HAL resource</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#http-callbacks-should-be-signed">HTTP callbacks should be signed</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#events-pushed-to-the-consumers-may-additionally-be-exposed-in-a-collection-resource">Events pushed to the consumers may additionally be exposed in a collection resource</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="40-documentation-requirements.html">Documentation requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#documentation-urls">Documentation URLs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#documentation-base-url">Documentation base URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#id1">Documentation URLs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#resource-documentation">Resource documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#contents">Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#field-types">Field types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#document-link-relations">Document link relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#getting-started-guide">Getting started guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#api-reference">API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#example-code">Example code</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#todo">TODO</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oauth-2">OAuth 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-oauth-2-0">What is OAuth 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#oauth-2-0-roles">OAuth 2.0 Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#support-in-our-api-s">Support in our API&#8217;s</a></li>
<li class="toctree-l3"><a class="reference internal" href="#registration-of-clients">Registration of Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope">Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="#application-specific-tokens">Application specific tokens</a></li>
<li class="toctree-l3"><a class="reference internal" href="#secure-implementation-of-oauth-2-0">Secure implementation of OAuth 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rate-limiting">Rate limiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-security-advice">General security advice</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="60-versioning.html">Versioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#backward-compatible-changes">1. Backward compatible changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#clients-must-be-assumed-to-cope-with-backward-compatible-changes">Clients MUST be assumed to cope with backward compatible changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#do-not-remove-fields-when-it-will-be-replaced-by-another-field">Do not remove fields when it will be replaced by another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#old-links-may-be-deprecated-when-it-will-be-replaced-with-a-newer-version">Old links MAY be deprecated when it will be replaced with a newer version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-representation-changes">2. Resource representation changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-behavior-changes">3. Resource behavior changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="80-hal-and-our-deviations.html">HAL and our deviations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#content-type">Content-type</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#json">JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#field-names">Field names</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="99-todo.html">TODO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="99-todo.html#lots-of-small-edits">Lots of small edits</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">eCG API Guidelines</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Security</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/50-security.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="security">
<span id="index-0"></span><h1>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h1>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>Authentication should be done using OAuth 2.0. OAuth 2.0 does not prescribe exactly how it should be used, since it is basically a framework for authorization methods. However, there are some industry standards which are nowadays considered the default implementation of OAuth 2.0. Since we strive to a consistent and predictable API, this is the way OAuth 2.0 should be used in our API&#8217;s.</p>
</div>
<div class="section" id="oauth-2">
<h2>OAuth 2<a class="headerlink" href="#oauth-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-is-oauth-2-0">
<h3>What is OAuth 2.0<a class="headerlink" href="#what-is-oauth-2-0" title="Permalink to this headline">¶</a></h3>
<p>OAuth 2.0 is an open authorization protocol which enables applications to
access each others data. OAuth 2.0 specification replaces and obsoletes the
OAuth 1.0 protocol and is <em>not</em> backward compatible with OAuth 1.0.</p>
</div>
<div class="section" id="oauth-2-0-roles">
<h3>OAuth 2.0 Roles<a class="headerlink" href="#oauth-2-0-roles" title="Permalink to this headline">¶</a></h3>
<p>OAuth 2.0 defines the following roles of users and applications:</p>
<ul class="simple">
<li><strong>Resource Owner:</strong> This is the person or application that owns the data
that is to be shared. In this context <em>resource owner</em> is the user of the
platform.</li>
<li><strong>Resource Server:</strong> This is the server hosting the resource owned by the
resource owner. In this context <em>resource server</em> is the server hosting the platform API.</li>
<li><strong>Client:</strong> This is the application requesting access to the resources stored
on the resource server. In this context <em>client</em> is the application wanting
to use the platform API.</li>
<li><strong>Authorization Server:</strong> The authorization server is the server
authorizing the client app to access the resources of the resource owner.
In this context <em>authorization server</em> is the server hosting authentication
and token endpoints.</li>
</ul>
</div>
<div class="section" id="support-in-our-api-s">
<h3>Support in our API&#8217;s<a class="headerlink" href="#support-in-our-api-s" title="Permalink to this headline">¶</a></h3>
<p>OAuth 2.0 describes four different authorization grants. An authorization grant is basically a certain way of performing the authentication of the user. Those four grant types are:</p>
<ol class="arabic simple">
<li>Authorization code grant</li>
<li>Implicit grant</li>
<li>Resource owner password credentials grant</li>
<li>Client credentials grant</li>
</ol>
<p>In general, the minimum you need to support in you authentication flow should be the Authorization code grant (3-legged OAuth 2.0).</p>
<p>The first three grants, Authorization code grant, Implicit grant and Resource owner password credentials grant, allow the client to authenticate against the API on behalf of the resource owner. For security reasons, the Authorization code grant is the most preferred way to achieve this.</p>
<p>Implicit grant <strong>should not be used</strong>, because it is unsecure and vulnerable for XSS and CSRF attacks. Because this is a problem, the used Authorization Server should not support it, because if you support it your Authorization code grant is in theory not more safe than Implicit grant, unless you enforce the client to register the <em>response_type</em> with the <em>redirect_uri</em> and check for that. Without this check, it is trivial to change <em>response_type=code</em> to <em>response_type=token</em>, with all the negative consequences implied with the implicit grant as well.</p>
<p>The Client credential grant enables the client to authenticate itself with the API without a resource owner. This is specifically useful to do &#8216;service&#8217; calls to the API, which are not specific for a given user, or to allow a user of the client to access the API without having to authenticate explicitly. This can be useful to allow the client to give the user access to &#8216;public&#8217; information (anonymous requests).</p>
<p>In general, it is not preferred to have no authentication at all for any endpoint of your API, because it will be impossible to relate a call to a specific client and it opens up the API for misuse, because it will be impossible to do any rate limiting.</p>
</div>
<div class="section" id="registration-of-clients">
<h3>Registration of Clients<a class="headerlink" href="#registration-of-clients" title="Permalink to this headline">¶</a></h3>
<p>Before a client application can authenticate against the resource server, it is required that a client can be registered. Some recommendations to improve security of your application regarding registration of clients:</p>
<ul class="simple">
<li>It is required that a client register at least one <em>request_uri</em>.</li>
<li>It is recommended that it is allowed to register multiple <em>request_uri</em> for a client and use it as a whitelist of allowed request_uri&#8217;s.</li>
<li>When possible, allow the client to register the allowed scopes for each <em>request_uri</em> and verify these when authorizing a user.</li>
<li>When possible, register the allowed <em>response_type</em> (normally only <em>code</em> should be allowed) for each <em>request_uri</em>. This way, you prevent malicious clients from unauthorized use of resources on behalf of a resource owner.</li>
</ul>
</div>
<div class="section" id="scope">
<h3>Scope<a class="headerlink" href="#scope" title="Permalink to this headline">¶</a></h3>
<p>When registering a client, the OAuth server must support that the allowed <em>permission scopes</em> for a client can be specified. Permission scopes are basically rights which the client can request for the <em>resource owner</em> when authenticating agains the <em>resource server</em>.</p>
<p>The following rules should be followed when defining scopes for an API:</p>
<ul class="simple">
<li>Scopes have to be in lowercase</li>
<li>Underscores may be used to separate words in a scope. For example <code class="docutils literal"><span class="pre">place_advertisement</span></code> as a scope for placing advertisements.</li>
<li>Optionally, a colon can be used to indicate hierarchical permission scopes. For example, if there is a scope <code class="docutils literal"><span class="pre">user</span></code> to get access to the user details, an API may opt to support a subset of this permission scope. Such a subset can be a permission scope to get access to the email address of a user, in which situation this scope can be named <code class="docutils literal"><span class="pre">user:email</span></code>.</li>
</ul>
</div>
<div class="section" id="application-specific-tokens">
<h3>Application specific tokens<a class="headerlink" href="#application-specific-tokens" title="Permalink to this headline">¶</a></h3>
<p>It may be desirable to allow an user of your website to create application specific tokens. This will allow the user to create a token for a specific application (or client). Your website will then present the user with an access_token which can be used to perform calls to the API. This is basically a way directly use your API, without the necessity to go through the entire authentication flow. This can be useful to lower the barrier for creating simple clients which are using your API.</p>
</div>
<div class="section" id="secure-implementation-of-oauth-2-0">
<h3>Secure implementation of OAuth 2.0<a class="headerlink" href="#secure-implementation-of-oauth-2-0" title="Permalink to this headline">¶</a></h3>
<p>There are some things to take into consideration when implementing OAuth 2.0. It is recommended to at least apply the following rules to your implementation:</p>
<p>For Authentication Grant:</p>
<ul class="simple">
<li>Strict checking of the <em>request_uri</em> when the client specifies a custom request_uri. The <em>request_uri</em> provided when requesting the <em>authentication_code</em> has to be exactly the same as the <em>request_uri</em> provided when requesting the <em>access_token</em>. The custom <em>request_uri</em> has to be on the same host as the <em>request_uri</em> provided when the client was registered.</li>
<li>Restrict expiration time of <em>access_token</em> and <em>refresh_token</em>. The <em>access_token</em> could best be compared to a password and should be treated as such. A recommended expire duration for the access_token is 5 minutes. The <em>refresh_token</em> could best be compared to a session id, and as such should have a restricted expiration time as well. A recommended expire duration for the <em>refresh_token</em> is 24 hours.</li>
</ul>
</div>
<div class="section" id="rate-limiting">
<h3>Rate limiting<a class="headerlink" href="#rate-limiting" title="Permalink to this headline">¶</a></h3>
<p>Rate limiting should be part of the API. Rate limiting can be done on client level, user level or both. Recommended is to at least implement rate limiting on client level. When a client exceeds the amount of allowed request, the API should respond with a 429 (&#8216;Too many requests&#8217;) http code. The API should provide a <code class="docutils literal"><span class="pre">Retry-After</span></code> header where the value for this header is the number of seconds after which the client should be able to send successful requests again.</p>
<p>Because we want our API&#8217;s to be predictable and easy to use, the API should provide the following headers to inform the API client on its usage restrictions:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">X-Rate-Limit-Limit</span></code> - The rate limit ceiling for that given request.</li>
<li><code class="docutils literal"><span class="pre">X-RateLimit-Remaining</span></code> - The number of requests left for the time window.</li>
<li><code class="docutils literal"><span class="pre">X-RateLimit-Reset</span></code> - The remaining window before rate limit resets in UTC epoch seconds.</li>
</ul>
</div>
<div class="section" id="general-security-advice">
<h3>General security advice<a class="headerlink" href="#general-security-advice" title="Permalink to this headline">¶</a></h3>
<p>Some general recommendations for building a secure API:</p>
<ul class="simple">
<li>Don&#8217;t expose e-mails in API. Only the e-mail of the resource owner should be accessible for the user of an API. Exposing e-mails of other users is a security risk.</li>
</ul>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="60-versioning.html" class="btn btn-neutral float-right" title="Versioning" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="40-documentation-requirements.html" class="btn btn-neutral" title="Documentation requirements" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, ECG API Focus team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>