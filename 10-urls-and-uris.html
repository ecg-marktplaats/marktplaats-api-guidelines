

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>URLs and URIs &mdash; eCG API Guidelines 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="eCG API Guidelines 0.1 documentation" href="index.html"/>
        <link rel="next" title="Resource representation format" href="20-resource-representation-format.html"/>
        <link rel="prev" title="Introduction" href="00-intro.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> eCG API Guidelines</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00-intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#principles">Principles</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#conventions">Conventions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">URLs and URIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#base-url">Base URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#url-and-uri-naming">URL and URI naming</a></li>
<li class="toctree-l2"><a class="reference internal" href="#query-parameters">Query parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="20-resource-representation-format.html">Resource representation format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#relation-names">Relation names</a></li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-names">Field names</a></li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-values">Field values</a></li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#errors">Errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30-interaction-design.html">Interaction design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#request-methods">Request methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#status-codes">Status codes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="40-documentation-requirements.html">Documentation requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#documentation-urls">Documentation URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#resource-documentation">Resource documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#document-link-relations">Document link relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#getting-started-guide">Getting started guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#api-reference">API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#example-code">Example code</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#todo">TODO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="50-security.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#oauth-2">OAuth 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="60-versioning.html">Versioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-versioning">Resource versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#field-versioning">Field versioning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="80-hal-and-our-deviations.html">HAL and our deviations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#content-type">Content-type</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#json">JSON</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="99-todo.html">TODO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="99-todo.html#lots-of-small-edits">Lots of small edits</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">eCG API Guidelines</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>URLs and URIs</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/10-urls-and-uris.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="urls-and-uris">
<span id="url-and-uris"></span><span id="index-0"></span><h1>URLs and URIs<a class="headerlink" href="#urls-and-uris" title="Permalink to this headline">¶</a></h1>
<div class="section" id="base-url">
<h2>Base URL<a class="headerlink" href="#base-url" title="Permalink to this headline">¶</a></h2>
<p>Examples of good base URLs:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.marktplaats.nl/v1
https://api.marktplaats.nl/subsystem/v1
</pre></div>
</div>
<p>Not so good example:</p>
<div class="highlight-http"><div class="highlight"><pre>https://www.marktplaats.nl/api/subsystem/services/v1.2
</pre></div>
</div>
<div class="section" id="base-url-should-be-short">
<h3>Base URL should be short<a class="headerlink" href="#base-url-should-be-short" title="Permalink to this headline">¶</a></h3>
<p>The base URL should be short and easy to remember. The longer the domain name and path, the harder it is to use.</p>
</div>
<div class="section" id="use-https">
<h3>Use https<a class="headerlink" href="#use-https" title="Permalink to this headline">¶</a></h3>
<p>Https must be used. This solves a great deal of otherwise hard to tackle security problems.</p>
</div>
<div class="section" id="base-url-includes-a-major-version-in-path">
<h3>Base URL includes a major version in path<a class="headerlink" href="#base-url-includes-a-major-version-in-path" title="Permalink to this headline">¶</a></h3>
<p>The version in the URL is the escape route to introduce breaking changes to the API. This should not be taken lightly
and therefore a single digit should be enough for a long time. For clarity, the version MUST be preceded by a <tt class="docutils literal"><span class="pre">v</span></tt>.</p>
</div>
</div>
<div class="section" id="url-and-uri-naming">
<h2>URL and URI naming<a class="headerlink" href="#url-and-uri-naming" title="Permalink to this headline">¶</a></h2>
<div class="section" id="document-names-should-be-a-singular-noun">
<h3>Document names should be a singular noun<a class="headerlink" href="#document-names-should-be-a-singular-noun" title="Permalink to this headline">¶</a></h3>
<p>A URI representing a document resource should be named with a singular noun or noun phrase path segment.
For example, the URI for a single seller profile document would have the singular form:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.marktplaats.nl/v1/users/1/profile
</pre></div>
</div>
</div>
<div class="section" id="collection-names-should-be-a-plural-noun">
<h3>Collection names should be a plural noun<a class="headerlink" href="#collection-names-should-be-a-plural-noun" title="Permalink to this headline">¶</a></h3>
<p>A URI identifying a store of resources should be named with a plural noun, or noun phrase, as its path segment.
The URI for a store of categories may use the plural noun form as follows:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.marktplaats.nl/v1/categories
</pre></div>
</div>
</div>
<div class="section" id="forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship">
<h3>Forward slash separator (<tt class="docutils literal"><span class="pre">/</span></tt>) must be used to indicate a hierarchical relationship<a class="headerlink" href="#forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship" title="Permalink to this headline">¶</a></h3>
<p>The forward slash (<tt class="docutils literal"><span class="pre">/</span></tt>) character is used in the path portion of the URI to indicate a hierarchical relationship between
resources. For example:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.marktplaats.nl/v1/categories/91/advertisements
</pre></div>
</div>
</div>
<div class="section" id="uris-should-not-have-a-trailing-forward-slash">
<h3>URIs should not have a trailing forward slash (<tt class="docutils literal"><span class="pre">/</span></tt>)<a class="headerlink" href="#uris-should-not-have-a-trailing-forward-slash" title="Permalink to this headline">¶</a></h3>
<p>As the last character within a URI’s path, a forward slash (<tt class="docutils literal"><span class="pre">/</span></tt>) adds no semantic value and may cause confusion.
REST APIs should not expect a trailing slash and should not include them in the links that they provide to clients.</p>
<p>Many web components and frameworks will treat the following two URIs equally:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.marktplaats.nl/v1/categories/
https://api.marktplaats.nl/v1/categories
</pre></div>
</div>
<p>However, every character within a URI counts toward a resource’s unique identity.
Two different URIs must map to two different resources.
If the URIs differ, then so do the resources, and vice versa.
Therefore, a REST API must generate and communicate clean URIs and should be intolerant of any client’s attempts to
identify a resource imprecisely.
Redirects (e.g. 301 Moved Permanently) from one version to the other are not allowed. Some clients don&#8217;t support
redirects and we need to keep this consistent over our separate APIs.</p>
<p>The root resource <tt class="docutils literal"><span class="pre">/</span></tt> is excluded from this rule.</p>
</div>
<div class="section" id="hyphens-should-be-used-to-improve-the-readability-of-uris-not-underscores">
<h3>Hyphens (<tt class="docutils literal"><span class="pre">-</span></tt>) should be used to improve the readability of URIs ,not underscores (<tt class="docutils literal"><span class="pre">_</span></tt>)<a class="headerlink" href="#hyphens-should-be-used-to-improve-the-readability-of-uris-not-underscores" title="Permalink to this headline">¶</a></h3>
<p>To make your URIs easy for people to scan and interpret, use the hyphen (<tt class="docutils literal"><span class="pre">-</span></tt>) character to improve the readability of
names in long path segments.
Anywhere you would use a space or hyphen in English, you should use a hyphen in a URI. For example:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.marktplaats.nl/v1/this-is-an-endpoint-with-a-large-name
</pre></div>
</div>
</div>
<div class="section" id="uri-paths-must-use-lowercase-letters">
<h3>URI paths must use lowercase letters<a class="headerlink" href="#uri-paths-must-use-lowercase-letters" title="Permalink to this headline">¶</a></h3>
<p>Lowercase letters are preferred in URI paths since capital letters can sometimes cause problems.
RFC 3986 defines URIs as case-sensitive except for the scheme and host components.
For example:</p>
<div class="highlight-http"><div class="highlight"><pre>http://api.example.restapi.org/my-folder/my-doc
HTTP://API.EXAMPLE.RESTAPI.ORG/my-folder/my-doc
http://api.example.restapi.org/My-Folder/my-doc
</pre></div>
</div>
<p>The first URL is fine and RFC3986 considers the second url to be identical to URL #1. But the third URL is not the same
as URIs one and two, which may give unnecessary confusion.</p>
<p>Parameters inside the URI path are excluded from this rule.</p>
</div>
</div>
<div class="section" id="query-parameters">
<h2>Query parameters<a class="headerlink" href="#query-parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-query-component-of-a-uri-should-be-used-to-filter-collections-or-stores">
<h3>The query component of a URI should be used to filter collections or stores<a class="headerlink" href="#the-query-component-of-a-uri-should-be-used-to-filter-collections-or-stores" title="Permalink to this headline">¶</a></h3>
<p>A URI’s query component is a natural fit for supplying search criteria to a collection or store.</p>
<p>Example :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">?</span><span class="nx">casUser</span><span class="o">=</span><span class="kc">true</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">marktplaats</span><span class="p">.</span><span class="nx">nl</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>
<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users&quot;</span> <span class="p">},</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://api.marktplaats.nl/v1/rels/user&quot;</span><span class="o">:</span> <span class="p">[{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users/2&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
           <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;2@marktplaats.nl&quot;</span><span class="p">,</span>
           <span class="s2">&quot;casUser&quot;</span> <span class="o">:</span> <span class="kc">true</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-query-component-of-a-uri-should-be-used-to-paginate-collections-or-store-results">
<h3>The query component of a URI should be used to paginate collections or store results<a class="headerlink" href="#the-query-component-of-a-uri-should-be-used-to-paginate-collections-or-store-results" title="Permalink to this headline">¶</a></h3>
<p>A REST API client should use the query component to paginate collections and store results with the <tt class="docutils literal"><span class="pre">offset</span></tt> and <tt class="docutils literal"><span class="pre">limit</span></tt> parameters.</p>
<p>The <tt class="docutils literal"><span class="pre">limit</span></tt> parameter specifies the maximum number of contained elements to return in the response.
The <tt class="docutils literal"><span class="pre">offset</span></tt> parameter specifies the zero-based index of the first element to return in the response.</p>
<p>Example :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">?</span><span class="nx">offset</span><span class="o">=</span><span class="mi">0</span><span class="o">&amp;</span><span class="nx">limit</span><span class="o">=</span><span class="mi">2</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">marktplaats</span><span class="p">.</span><span class="nx">nl</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;next&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users?offset=1&amp;limit=2&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;find&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users{?id}&quot;</span><span class="p">,</span> <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://api.marktplaats.nl/v1/rels/user&quot;</span><span class="o">:</span> <span class="p">[{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users/1&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;sellername&quot;</span><span class="o">:</span> <span class="s2">&quot;Robin&quot;</span><span class="p">,</span>
           <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;1@marktplaats.nl&quot;</span><span class="p">,</span>
           <span class="s2">&quot;casUser&quot;</span> <span class="o">:</span> <span class="kc">false</span>
         <span class="p">},{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users/2&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
           <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;2@marktplaats.nl&quot;</span><span class="p">,</span>
           <span class="s2">&quot;casUser&quot;</span> <span class="o">:</span> <span class="kc">true</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="use-the-body-parameter-to-include-exclude-a-response-body">
<span id="body-parameter"></span><h3>Use the <tt class="docutils literal"><span class="pre">_body</span></tt> parameter to include/exclude a response body<a class="headerlink" href="#use-the-body-parameter-to-include-exclude-a-response-body" title="Permalink to this headline">¶</a></h3>
<p>By default responses contain a body, even if it is mostly the same as what was posted. The <tt class="docutils literal"><span class="pre">_body</span></tt> parameter can be
used to change this behavior.</p>
<p>Parameter <tt class="docutils literal"><span class="pre">_body</span></tt> takes values <tt class="docutils literal"><span class="pre">true</span></tt> (the default) or <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">POST</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//api.marktplaats.nl/v1/users?_body=false HTTP/1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">marktplaats</span><span class="p">.</span><span class="nx">nl</span>

<span class="p">{</span>
    <span class="s2">&quot;username&quot;</span><span class="o">:</span> <span class="s2">&quot;testUser&quot;</span><span class="p">,</span>
    <span class="s2">&quot;zipcode&quot;</span><span class="o">:</span> <span class="s2">&quot;1097DN&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;test@marktplaats.nl&quot;</span>
<span class="p">}</span>


<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">201</span> <span class="nx">Created</span>
<span class="nx">Location</span><span class="o">:</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//api.marktplaats.nl/v1/users/95</span>
</pre></div>
</div>
</div>
<div class="section" id="use-post-with-a-method-url-parameter-to-mimic-other-request-methods">
<span id="method-parameter"></span><h3>Use <tt class="docutils literal"><span class="pre">POST</span></tt> with a <tt class="docutils literal"><span class="pre">_method</span></tt> url parameter to mimic other request methods<a class="headerlink" href="#use-post-with-a-method-url-parameter-to-mimic-other-request-methods" title="Permalink to this headline">¶</a></h3>
<p>Some clients do not support all methods (e.g. <tt class="docutils literal"><span class="pre">DELETE</span></tt> or <tt class="docutils literal"><span class="pre">PATCH</span></tt> is not supported from Javascript in the browser), the
<tt class="docutils literal"><span class="pre">_method</span></tt> url parameter can be used to mimic any request method.
Instead of the <tt class="docutils literal"><span class="pre">_method</span></tt> parameter, we also should support setting the method using the request header <tt class="docutils literal"><span class="pre">X-HTTP-METHOD-OVERRIDE</span></tt> (optionally other headers, like <tt class="docutils literal"><span class="pre">X-HTTP-METHOD</span></tt> and <tt class="docutils literal"><span class="pre">X-METHOD-OVERRIDE</span></tt> may also be supported).</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">POST</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">advertisements</span><span class="o">/</span><span class="mi">95</span><span class="o">?</span><span class="nx">_method</span><span class="o">=</span><span class="nx">PATCH</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">marktplaats</span><span class="p">.</span><span class="nx">nl</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="o">-</span><span class="nx">patch</span><span class="o">+</span><span class="nx">json</span>
<span class="nx">If</span><span class="o">-</span><span class="nx">Match</span><span class="o">:</span> <span class="s2">&quot;abc123&quot;</span>

<span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;replace&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/title&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;new advertisement title&quot;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;replace&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/price&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mi">9000</span> <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>is interpreted as a <tt class="docutils literal"><span class="pre">PATCH</span></tt> request.</p>
</div>
<div class="section" id="a-name-callback-a-use-the-callback-parameter-to-return-a-jsonp-response">
<h3>&lt;a name=&#8221;_callback&#8221;&gt;&lt;/a&gt; Use the <tt class="docutils literal"><span class="pre">_callback</span></tt> parameter to return a jsonp response<a class="headerlink" href="#a-name-callback-a-use-the-callback-parameter-to-return-a-jsonp-response" title="Permalink to this headline">¶</a></h3>
<p>You can send a <tt class="docutils literal"><span class="pre">?_callback</span></tt> parameter to any <tt class="docutils literal"><span class="pre">GET</span></tt> call to have the results wrapped in a JSON function.
This is typically used when browsers want to embed Marktplaats content in web pages by getting around cross domain
issues. The response includes the same data output as the regular API, plus the relevant HTTP Header information.</p>
<p>The content type of the response MUST be <tt class="docutils literal"><span class="pre">application/javascript</span></tt>.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">?</span><span class="nx">_callback</span><span class="o">=</span><span class="nx">foo</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">marktplaats</span><span class="p">.</span><span class="nx">nl</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">javascript</span>
<span class="nx">foo</span><span class="p">({</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users&quot;</span> <span class="p">},</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://api.marktplaats.nl/v1/rels/user&quot;</span><span class="o">:</span> <span class="p">[{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users/2&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
           <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;2@marktplaats.nl&quot;</span><span class="p">,</span>
           <span class="s2">&quot;casUser&quot;</span> <span class="o">:</span> <span class="kc">true</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">10</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="a-name-expand-a-use-the-expand-parameter-for-zooming">
<h3>&lt;a name=&#8221;_expand&#8221;&gt;&lt;/a&gt; Use the <tt class="docutils literal"><span class="pre">_expand</span></tt> parameter for zooming<a class="headerlink" href="#a-name-expand-a-use-the-expand-parameter-for-zooming" title="Permalink to this headline">¶</a></h3>
<p>Zooming is an optional technique that allows linked resources to be embedded. The embedded resources are serialized as
described by [HAL](<a class="reference external" href="http://stateless.co/hal_specification.html">http://stateless.co/hal_specification.html</a>).</p>
<p>Example :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">categories</span><span class="o">/</span><span class="mi">92</span><span class="o">?</span><span class="nx">_expand</span><span class="o">=</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">marktplaats</span><span class="p">.</span><span class="nx">nl</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>
<span class="nx">ETag</span><span class="o">:</span> <span class="s2">&quot;7dsyiuh44aa&quot;</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/92&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;describedby&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;http://api.marktplaats.nl/v1/docs/resources/category&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;http://api.marktplaats.nl/v1/docs/rels/parent-category&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/91&quot;</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://api.marktplaats.nl/v1/rels/parent-category&quot;</span><span class="o">:</span> <span class="p">[{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/91&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">91</span><span class="p">,</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto&#39;s, motors en andere voertuigen&quot;</span><span class="p">,</span>
           <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto&#39;s&quot;</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">92</span><span class="p">,</span>
    <span class="s2">&quot;parentCategoryId&quot;</span><span class="o">:</span> <span class="mi">91</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Alpha romeo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;Alpha romeo&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>TODO: look into &lt;<a class="reference external" href="http://www.etsy.com/developers/documentation/getting_started/resources">http://www.etsy.com/developers/documentation/getting_started/resources</a>&gt; to allow pagination.</p>
</div>
<div class="section" id="use-the-include-and-exclude-parameters-for-selecting-fields">
<span id="include-and-exclude-parameters"></span><h3>Use the <tt class="docutils literal"><span class="pre">_include</span></tt> and <tt class="docutils literal"><span class="pre">_exclude</span></tt> parameters for selecting fields<a class="headerlink" href="#use-the-include-and-exclude-parameters-for-selecting-fields" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">_include</span></tt> and <tt class="docutils literal"><span class="pre">_exclude</span></tt> parameters can be used to select fields. If both parameters are present, only the
<tt class="docutils literal"><span class="pre">_include</span></tt> parameter is used.</p>
<p>Both fields have a similar format. A list of comma separated field names are valid arguments for both <tt class="docutils literal"><span class="pre">_include</span></tt> and <tt class="docutils literal"><span class="pre">_exclude</span></tt>.</p>
<p>TODO: look into &lt;<a class="reference external" href="http://www.etsy.com/developers/documentation/getting_started/resources">http://www.etsy.com/developers/documentation/getting_started/resources</a>&gt; to allow pagination</p>
<p>Example :</p>
<blockquote>
<div>TODO</div></blockquote>
</div>
<div class="section" id="use-the-prettyprint-parameter-to-return-a-pretty-printed-response">
<span id="prettyprint-parameter"></span><h3>Use the <tt class="docutils literal"><span class="pre">_prettyprint</span></tt> parameter to return a pretty printed response<a class="headerlink" href="#use-the-prettyprint-parameter-to-return-a-pretty-printed-response" title="Permalink to this headline">¶</a></h3>
<p>Implementation CAN support the <tt class="docutils literal"><span class="pre">?_prettyprint</span></tt> parameter to make it easier for people to view, read and understand
resources. Formatting is enabled when the parameter is present and does not have the value <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<p>Consider enabling pretty printing by default for documentation resources only (e.g. the <tt class="docutils literal"><span class="pre">/</span></tt> resource).</p>
<p>Example :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">categories</span><span class="o">/</span><span class="mi">95</span><span class="o">?</span><span class="nx">_prettyprint</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">marktplaats</span><span class="p">.</span><span class="nx">nl</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/95&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;describedby&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;http://api.marktplaats.nl/v1/docs/resources/category&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;http://api.marktplaats.nl/v1/docs/rels/parent_category&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/91&quot;</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">95</span><span class="p">,</span>
    <span class="s2">&quot;parentCategoryId&quot;</span><span class="o">:</span> <span class="mi">91</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;BMW&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;BMW&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="20-resource-representation-format.html" class="btn btn-neutral float-right" title="Resource representation format"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="00-intro.html" class="btn btn-neutral" title="Introduction"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Marktplaats API Focus team.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>