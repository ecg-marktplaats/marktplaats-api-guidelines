

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Resource representation format &mdash; eCG API Guidelines 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="eCG API Guidelines 0.1 documentation" href="index.html"/>
        <link rel="next" title="Interaction design" href="30-interaction-design.html"/>
        <link rel="prev" title="URLs and URIs" href="10-urls-and-uris.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> eCG API Guidelines</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00-intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#overview-for-the-busy-developer">Overview for the busy developer</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#history">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#advantages">Advantages</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#the-future">The future</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#conventions">Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05-principles.html">Principles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="05-principles.html#technical-principles">Technical principles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="10-urls-and-uris.html">URLs and URIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#base-url">Base URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#url-and-uri-naming">URL and URI naming</a></li>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#query-parameters">Query parameters</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Resource representation format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#binary-resources">Binary resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resource-collections">Resource collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#relation-names">Relation names</a></li>
<li class="toctree-l2"><a class="reference internal" href="#field-names">Field names</a></li>
<li class="toctree-l2"><a class="reference internal" href="#field-values">Field values</a></li>
<li class="toctree-l2"><a class="reference internal" href="#errors">Errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30-interaction-design.html">Interaction design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#request-methods">Request methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#status-codes">Status codes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="90-webhooks.html">Webhooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#it-should-be-possible-to-programmatically-register-webhooks-via-the-api">It should be possible to programmatically register webhooks via the api</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#webhooks-may-be-registered-on-all-resource-types">Webhooks may be registered on all resource types</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#the-body-of-a-callback-must-be-a-hal-resource">The body of a callback must be a HAL resource</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#http-callbacks-should-be-signed">HTTP callbacks should be signed</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#events-pushed-to-the-consumers-may-additionally-be-exposed-in-a-collection-resource">Events pushed to the consumers may additionally be exposed in a collection resource</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="40-documentation-requirements.html">Documentation requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#documentation-urls">Documentation URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#resource-documentation">Resource documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#document-link-relations">Document link relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#getting-started-guide">Getting started guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#api-reference">API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#example-code">Example code</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#todo">TODO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="50-security.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#oauth-2">OAuth 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="60-versioning.html">Versioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#backward-compatible-changes">1. Backward compatible changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-representation-changes">2. Resource representation changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-behavior-changes">3. Resource behavior changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="80-hal-and-our-deviations.html">HAL and our deviations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#content-type">Content-type</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#json">JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#field-names">Field names</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="99-todo.html">TODO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="99-todo.html#lots-of-small-edits">Lots of small edits</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">eCG API Guidelines</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Resource representation format</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/20-resource-representation-format.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="resource-representation-format">
<span id="index-0"></span><span id="id1"></span><h1>Resource representation format<a class="headerlink" href="#resource-representation-format" title="Permalink to this headline">¶</a></h1>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<div class="section" id="serialization-format-hal-in-utf-8-encoding">
<h3>Serialization format: HAL in UTF-8 encoding<a class="headerlink" href="#serialization-format-hal-in-utf-8-encoding" title="Permalink to this headline">¶</a></h3>
<p><em>HAL</em> MUST be used as representation format for all non-binary resources. See <a class="reference internal" href="80-hal-and-our-deviations.html#hal-and-our-deviations"><em>HAL and our deviations</em></a> for more information.</p>
<p>Example representation of a category resource with an expanded (embedded) parent category:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/92&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;curies&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/rels/{rel}.html&quot;</span><span class="p">,</span>
        <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ec&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;ec:parent-category&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/91&quot;</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
     <span class="s2">&quot;ec:parent-category&quot;</span><span class="o">:</span> <span class="p">{</span>
       <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/91&quot;</span> <span class="p">}</span>
       <span class="p">},</span>
       <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto&#39;s&quot;</span><span class="p">,</span>
       <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto&#39;s&quot;</span>
     <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Alpha romeo&quot;</span><span class="p">,</span>
  <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;Alpha romeo&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also see these articles:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.mwop.net/blog/2013-02-11-restful-apis-with-zf2-part-1.html">HAL introduction</a></li>
<li><a class="reference external" href="http://blog.stateless.co/post/13296666138/json-linking-with-hal">JSON linking with HAL</a></li>
</ul>
</div>
<div class="section" id="the-base-url-is-a-hal-resource">
<h3>The base URL is a HAL resource<a class="headerlink" href="#the-base-url-is-a-hal-resource" title="Permalink to this headline">¶</a></h3>
<p>The base URL is a HAL resource with appropriate documentation links.</p>
<p>For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>
<span class="nx">ETag</span><span class="o">:</span> <span class="s2">&quot;d9087df677dgh&quot;</span>

<span class="p">{</span>
  <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;curies&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/rels/{rel}.html&quot;</span><span class="p">,</span>
        <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ec&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;ec:categories&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;ec:advertisements&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/advertisements&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;ec:users&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users&quot;</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;A welcome message targeted at client developers. See documentation at http://.../v1/docs.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is possible and RECOMMENDED to add more meta-data to the links, for example a title. See the HAL specification or
existing implementations of these guidelines.</p>
<p>Adding a welcome message in the <tt class="docutils literal"><span class="pre">message</span></tt> field is RECOMMENDED.</p>
</div>
<div class="section" id="each-resource-should-contain-a-self-link">
<h3>Each resource SHOULD contain a <tt class="docutils literal"><span class="pre">self</span></tt> link<a class="headerlink" href="#each-resource-should-contain-a-self-link" title="Permalink to this headline">¶</a></h3>
<p>Each resource SHOULD have a <tt class="docutils literal"><span class="pre">self</span></tt> link as described by HAL.</p>
<p>Example:</p>
<div class="highlight-json"><div class="highlight"><pre>{
    &quot;_links&quot;: {
        &quot;self&quot;: { &quot;href&quot;: &quot;/v1/categories/1&quot; }
    }
}
</pre></div>
</div>
</div>
<div class="section" id="when-available-iana-registered-relation-types-should-be-used-as-link-relations">
<h3>When available IANA registered relation types SHOULD be used as link relations<a class="headerlink" href="#when-available-iana-registered-relation-types-should-be-used-as-link-relations" title="Permalink to this headline">¶</a></h3>
<p>A link relation is a descriptive attribute attached to a hyperlink in order to define the type of the link, or the
relationship between the source and destination resources.</p>
<p>A <a class="reference external" href="http://www.iana.org/assignments/link-relations/link-relations.xhtml">standardized link relation</a> SHOULD be used when
such a relation is available.</p>
<p>Examples of commonly used IANA relation types are : <tt class="docutils literal"><span class="pre">self</span></tt>, <tt class="docutils literal"><span class="pre">item</span></tt>, <tt class="docutils literal"><span class="pre">first</span></tt>, <tt class="docutils literal"><span class="pre">prev</span></tt>, <tt class="docutils literal"><span class="pre">next</span></tt>, and <tt class="docutils literal"><span class="pre">last</span></tt>.</p>
</div>
<div class="section" id="custom-link-relation-types-should-be-uri-s-that-when-dereferenced-in-a-web-browser-provide-relevant-documentation-in-the-form-of-an-html-page">
<h3>Custom link relation types SHOULD be uri&#8217;s that when dereferenced in a web browser provide relevant documentation, in the form of an HTML page<a class="headerlink" href="#custom-link-relation-types-should-be-uri-s-that-when-dereferenced-in-a-web-browser-provide-relevant-documentation-in-the-form-of-an-html-page" title="Permalink to this headline">¶</a></h3>
<p>If no suitable IANA relation type is available, you SHOULD use a custom relation type. In accordance with the
<a class="reference external" href="http://tools.ietf.org/html/rfc5988">web linking RFC</a> custom link relation types SHOULD be uri&#8217;s
that when dereferenced in a web browser provide relevant documentation, in the form of an HTML page.</p>
<p>The references page is intended for the developer that is using the API.</p>
<p>This page should contain the following information:</p>
<ul class="simple">
<li>A list of request methods (GET, PUT, POST etc) supported for this URI.</li>
<li>A description of the responses you can expect from any of the allowed request methods. This description should contain
the status code and a description of the links and embedded resources included in the response.</li>
</ul>
<p>See also <a class="reference internal" href="40-documentation-requirements.html#documentation"><em>Documentation requirements</em></a>.</p>
</div>
<div class="section" id="curies-should-be-used-to-improve-readability-of-custom-relation-uris">
<h3>Curies SHOULD be used to improve readability of custom relation URIs<a class="headerlink" href="#curies-should-be-used-to-improve-readability-of-custom-relation-uris" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.w3.org/TR/2010/NOTE-curie-20101216/">Curies</a>, as allowed by HAL, SHOULD be used to improve readability
of relations. A side effect is that it also reduces the representation&#8217;s size.</p>
</div>
</div>
<div class="section" id="binary-resources">
<h2>Binary resources<a class="headerlink" href="#binary-resources" title="Permalink to this headline">¶</a></h2>
<p>Binary resources MAY use any format. Binary resources MUST be linked to from another HAL resource. The link
is RECOMMENDED to be in the <tt class="docutils literal"><span class="pre">_links</span></tt> section but MAY be in any other field.</p>
</div>
<div class="section" id="resource-collections">
<h2>Resource collections<a class="headerlink" href="#resource-collections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="collections-must-be-homogeneous">
<h3>Collections MUST be homogeneous<a class="headerlink" href="#collections-must-be-homogeneous" title="Permalink to this headline">¶</a></h3>
<p>Depending on use cases, you can group resources into collections by using similarities (e.g. different types of
listings in a single collection). However, no matter what criteria you choose for any collection, it is important to
keep the representation homogeneous so that it is easy to use by clients.</p>
<p>Design the representation of the collection such that members in a collection are structurally and syntactically
similar.</p>
</div>
<div class="section" id="url-templates-are-recommended-in-links">
<h3>URL templates are RECOMMENDED in Links<a class="headerlink" href="#url-templates-are-recommended-in-links" title="Permalink to this headline">¶</a></h3>
<p>HAL allows for URI templates in links (section 5.1 in HAL specification). These are perfect to describe to links to
items in a resource collection.</p>
</div>
<div class="section" id="representation-and-pagination-of-collection-resources">
<span id="representation-of-collection-resource"></span><h3>Representation and pagination of collection resources<a class="headerlink" href="#representation-and-pagination-of-collection-resources" title="Permalink to this headline">¶</a></h3>
<p>As described in the section on <a class="reference internal" href="10-urls-and-uris.html#pagination-parameters"><em>paginate collections results</em></a> query
parameters <tt class="docutils literal"><span class="pre">offset</span></tt> and <tt class="docutils literal"><span class="pre">limit</span></tt> are used to paginate collections.</p>
<p>When <tt class="docutils literal"><span class="pre">offset</span></tt> is not specified it SHOULD get a default value of <tt class="docutils literal"><span class="pre">0</span></tt>.
When <tt class="docutils literal"><span class="pre">limit</span></tt> is not specified it SHOULD get a default value that makes sense for a client developer that
is exploring the API.</p>
<p>The link relation <tt class="docutils literal"><span class="pre">item</span></tt> MUST be included to define links to separate items in the resource.</p>
<p>The link relations <tt class="docutils literal"><span class="pre">first</span></tt>, <tt class="docutils literal"><span class="pre">prev</span></tt>, <tt class="docutils literal"><span class="pre">next</span></tt> and <tt class="docutils literal"><span class="pre">last</span></tt> SHOULD be added to enable automated pagination, for
example with the HAL Browser.</p>
<p>For collection resources that can be embedded in a single page, the <tt class="docutils literal"><span class="pre">first</span></tt>, <tt class="docutils literal"><span class="pre">prev</span></tt>, <tt class="docutils literal"><span class="pre">next</span></tt> and <tt class="docutils literal"><span class="pre">last</span></tt> links
SHOULD NOT be included. The <tt class="docutils literal"><span class="pre">first</span></tt> and <tt class="docutils literal"><span class="pre">prev</span></tt> links SHOULD NOT be included on the first page. The <tt class="docutils literal"><span class="pre">next</span></tt> and
<tt class="docutils literal"><span class="pre">last</span></tt> links SHOULD NOT be included on the last page.</p>
<p>The actual values for offset and limit MUST be included in the fields <tt class="docutils literal"><span class="pre">offset</span></tt> and <tt class="docutils literal"><span class="pre">limit</span></tt>.</p>
<p>Total size of the collection SHOULD be included as field <tt class="docutils literal"><span class="pre">totalCount</span></tt>. When included, the value MUST be the exact size.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">?</span><span class="nx">offset</span><span class="o">=</span><span class="mi">0</span><span class="o">&amp;</span><span class="nx">limit</span><span class="o">=</span><span class="mi">2</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>


<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users?offset=0&amp;limit=2&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;curies&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/rels/{rel}.html&quot;</span><span class="p">,</span>
            <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mp&quot;</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;item&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users{?id}&quot;</span><span class="p">,</span> <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
        <span class="s2">&quot;next&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users?offset=2&amp;limit=2&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;last&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users?offset=8&amp;limit=2&quot;</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;mp:user&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span>
               <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
                 <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users/1&quot;</span> <span class="p">}</span>
               <span class="p">},</span>
               <span class="s2">&quot;sellername&quot;</span><span class="o">:</span> <span class="s2">&quot;Robin&quot;</span><span class="p">,</span>
               <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;1@hotmail.com&quot;</span>
             <span class="p">},{</span>
               <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
                 <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/users/2&quot;</span> <span class="p">},</span>
               <span class="p">},</span>
               <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
               <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;2@gmail.com&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;offset&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;limit&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">&quot;totalCount&quot;</span><span class="o">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="representation-and-pagination-of-embedded-collection-resources">
<span id="representation-of-embedded-collection-resource"></span><h3>Representation and pagination of embedded collection resources<a class="headerlink" href="#representation-and-pagination-of-embedded-collection-resources" title="Permalink to this headline">¶</a></h3>
<p>As described in the section on <a class="reference internal" href="10-urls-and-uris.html#expand-parameter"><em>zooming and expansion</em></a>, query
parameter <tt class="docutils literal"><span class="pre">_expand</span></tt> is used to paginate collections.</p>
<p>The <tt class="docutils literal"><span class="pre">offset</span></tt>, <tt class="docutils literal"><span class="pre">limit</span></tt> parts of the <tt class="docutils literal"><span class="pre">_extend</span></tt> query parameter MUST be interpreted as in the
<a class="reference internal" href="10-urls-and-uris.html#pagination-parameters"><em>paginate collections results</em></a>.</p>
<p>Embedded collections MUST be extended with fields <tt class="docutils literal"><span class="pre">offset</span></tt>, <tt class="docutils literal"><span class="pre">limit</span></tt> and <tt class="docutils literal"><span class="pre">totalCount</span></tt> as described in the
<a class="reference internal" href="10-urls-and-uris.html#pagination-parameters"><em>paginate collections results</em></a>. The additional link relations that are described there
(&#8216;item&#8217;, &#8216;next&#8217;, etc.) do not need be included.</p>
<p>A full example for a linked collection resource (expand messages in a conversation resource):</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">conversations</span><span class="o">/</span><span class="mi">1234</span><span class="o">?</span><span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">messages</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">10</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>


<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
  <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/conversations/1234?_expand=mc:messages:0:10&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;curies&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/rels/{rel}.html&quot;</span><span class="p">,</span>
        <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ec&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;ec:messages&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/conversations/1234/messages&quot;</span><span class="p">,</span>
      <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;The messages in this conversation.&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;ec:messages&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;offset&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;limit&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
      <span class="s2">&quot;totalCount&quot;</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>
      <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ec:message&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
              <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/conversations/1234/messages/79p8233c8&quot;</span>
              <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;79p8233c8&quot;</span><span class="p">,</span>
            <span class="s2">&quot;from&quot;</span><span class="o">:</span> <span class="s2">&quot;b.q0282bxpw61q0@mail.platform.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;a.joup3go87dhjs@mail.platform.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;body&quot;</span><span class="o">:</span> <span class="s2">&quot;Thanks!&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
              <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/conversations/1234/messages/12211aad9&quot;</span>
              <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;12211aad9&quot;</span><span class="p">,</span>
            <span class="s2">&quot;from&quot;</span><span class="o">:</span> <span class="s2">&quot;a.joup3go87dhjs@mail.platform.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;b.q0282bxpw61q0@mail.platform.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;body&quot;</span><span class="o">:</span> <span class="s2">&quot;Hi!&quot;</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;1234&quot;</span><span class="p">,</span>
  <span class="s2">&quot;more&quot;</span><span class="o">:</span> <span class="s2">&quot;conversation fields&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the expanded resource collection <tt class="docutils literal"><span class="pre">ec:messages</span></tt> is a single element in the top-level field <tt class="docutils literal"><span class="pre">_embedded</span></tt>.
Inside the collection there is another <tt class="docutils literal"><span class="pre">_embedded</span></tt> field to contain the separate items of the collection.</p>
</div>
</div>
<div class="section" id="relation-names">
<h2>Relation names<a class="headerlink" href="#relation-names" title="Permalink to this headline">¶</a></h2>
<div class="section" id="relation-names-must-be-in-english-unless-they-represent-a-product-or-company-name">
<h3>Relation names MUST be in English unless they represent a product or company name<a class="headerlink" href="#relation-names-must-be-in-english-unless-they-represent-a-product-or-company-name" title="Permalink to this headline">¶</a></h3>
<p>The consumers of the API are developers which might come from any country. However, developer will for sure understand
English. Product and company names are excluded from this rule.</p>
</div>
<div class="section" id="words-in-relation-names-must-be-separated-by-a-dash">
<h3>Words in relation names MUST be separated by a dash <tt class="docutils literal"><span class="pre">-</span></tt><a class="headerlink" href="#words-in-relation-names-must-be-separated-by-a-dash" title="Permalink to this headline">¶</a></h3>
<p>Relation names are used in URL and words MUST therefore be separated by dash <tt class="docutils literal"><span class="pre">-</span></tt>.</p>
</div>
</div>
<div class="section" id="field-names">
<span id="id2"></span><h2>Field names<a class="headerlink" href="#field-names" title="Permalink to this headline">¶</a></h2>
<div class="section" id="field-names-must-be-in-english-unless-they-represent-a-product-or-company-name">
<h3>Field names MUST be in English unless they represent a product or company name<a class="headerlink" href="#field-names-must-be-in-english-unless-they-represent-a-product-or-company-name" title="Permalink to this headline">¶</a></h3>
<p>The consumers of the API are developers which might come from any country. However, developer will for sure understand
English. Product and company names are excluded from this rule.</p>
</div>
<div class="section" id="field-names-must-have-consistent-semantics-and-representation">
<h3>Field names MUST have consistent semantics and representation<a class="headerlink" href="#field-names-must-have-consistent-semantics-and-representation" title="Permalink to this headline">¶</a></h3>
<p>When two fields have the same name (even if they are in different entities), they MUST mean the same thing and they MUST
use the same representation.</p>
<p>This rule does not apply to deprecated fields.</p>
</div>
<div class="section" id="field-names-must-use-camelcase-contain-only-latin-characters-a-z-a-z-0-9">
<h3>Field names MUST use camelCase, contain only latin characters <tt class="docutils literal"><span class="pre">a</span></tt> - <tt class="docutils literal"><span class="pre">z</span></tt>, <tt class="docutils literal"><span class="pre">A</span></tt> - <tt class="docutils literal"><span class="pre">Z</span></tt>, <tt class="docutils literal"><span class="pre">0</span></tt> - <tt class="docutils literal"><span class="pre">9</span></tt><a class="headerlink" href="#field-names-must-use-camelcase-contain-only-latin-characters-a-z-a-z-0-9" title="Permalink to this headline">¶</a></h3>
<p>Fields MUST use only alphanumeric characters and MUST use the camelCase notation.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="s2">&quot;asqEnabled&quot;</span> <span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>    <span class="c1">// correct</span>
<span class="p">{</span> <span class="s2">&quot;asq_enabled&quot;</span> <span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>   <span class="c1">// NOT correct</span>
<span class="p">{</span> <span class="s2">&quot;asq_enabled?&quot;</span> <span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>  <span class="c1">// NOT correct</span>
</pre></div>
</div>
</div>
<div class="section" id="field-names-must-start-with-a-lowercase-letter-a-z">
<h3>Field names MUST start with a lowercase letter, <tt class="docutils literal"><span class="pre">a</span></tt> - <tt class="docutils literal"><span class="pre">z</span></tt><a class="headerlink" href="#field-names-must-start-with-a-lowercase-letter-a-z" title="Permalink to this headline">¶</a></h3>
<p>Fields MUST start with a lower case letter. In particular they MUST NOT start with an underscore <tt class="docutils literal"><span class="pre">_</span></tt>.</p>
</div>
<div class="section" id="field-deprecation">
<h3>Field deprecation<a class="headerlink" href="#field-deprecation" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="60-versioning.html#versioning"><em>Versioning</em></a>.</p>
</div>
</div>
<div class="section" id="field-values">
<h2>Field values<a class="headerlink" href="#field-values" title="Permalink to this headline">¶</a></h2>
<p>See the list of supported field types: <a class="reference internal" href="40-documentation-requirements.html#field-types"><em>Field types</em></a></p>
<div class="section" id="structure-field-values">
<h3>Structure field values<a class="headerlink" href="#structure-field-values" title="Permalink to this headline">¶</a></h3>
<p>You are RECOMMENDED to represent complex fields with a JSON object. This allows for better composability, the struct
might later move to a separate entity.</p>
</div>
<div class="section" id="optional-fields-should-not-be-serialized-when-they-have-no-value">
<h3>Optional fields SHOULD NOT be serialized when they have no value<a class="headerlink" href="#optional-fields-should-not-be-serialized-when-they-have-no-value" title="Permalink to this headline">¶</a></h3>
<p>When an optional field has no value, it SHOULD be left out of the representation.
When returning a resource with optional fields, and there is no value for a given field, then the field should be left
out entirely in case of a String, Numeric or Object value. In the case of an Array, an empty list may be returned.</p>
<p>The rationale for leaving omitting the field when creating or updating a resource (POST, PUT or PATCH), is that it is not allowed to specify a key without a value. Theoretically, the value <tt class="docutils literal"><span class="pre">null</span></tt> could be used, but this will only lead to confusion and complicate the parsing of the JSON object.</p>
<p>You are RECOMMENDED to design each field such that it always have a value.</p>
</div>
<div class="section" id="field-values-that-represent-a-timestamp-are-in-iso-8601">
<h3>Field values that represent a timestamp are in ISO 8601<a class="headerlink" href="#field-values-that-represent-a-timestamp-are-in-iso-8601" title="Permalink to this headline">¶</a></h3>
<p>Timestamp values are represented using the <a class="reference external" href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format full syntax in UTC (<tt class="docutils literal"><span class="pre">Z</span></tt>)
with milliseconds (e.g. <tt class="docutils literal"><span class="pre">2013-20-02T18:02:24.000Z</span></tt>).</p>
<p>Some systems will store dates in a lower precision. For consistency even those dates are represented in the full format.
However, clients should be prepared to see timestamps rounded, for example to the second.</p>
</div>
<div class="section" id="field-values-that-represent-a-date-are-in-iso-8601">
<h3>Field values that represent a date are in ISO 8601<a class="headerlink" href="#field-values-that-represent-a-date-are-in-iso-8601" title="Permalink to this headline">¶</a></h3>
<p>Date values are represented using the <a class="reference external" href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> in the format <tt class="docutils literal"><span class="pre">YYYY-MM-DD</span></tt>
(eg. <tt class="docutils literal"><span class="pre">2013-01-20</span></tt> to represent January 20th 2013).</p>
</div>
<div class="section" id="field-values-that-represent-countries-are-in-iso-3166-1-alpha-2-format">
<h3>Field values that represent countries are in ISO 3166-1 alpha-2 format<a class="headerlink" href="#field-values-that-represent-countries-are-in-iso-3166-1-alpha-2-format" title="Permalink to this headline">¶</a></h3>
<p>Country codes are defined by the ISO 3166-1-alpha-2 code standard. You can find the complete list
<a class="reference external" href="http://www.iso.org/iso/country_codes/iso_3166_code_lists/country_names_and_code_elements">here</a>. For example <tt class="docutils literal"><span class="pre">NL</span></tt>.</p>
<p>The codes are case sensitive.</p>
</div>
<div class="section" id="field-values-that-represent-a-currency-are-in-iso-4217">
<h3>Field values that represent a currency are in ISO 4217<a class="headerlink" href="#field-values-that-represent-a-currency-are-in-iso-4217" title="Permalink to this headline">¶</a></h3>
<p>Currencies are encoded using the <a class="reference external" href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> currency format. For example <tt class="docutils literal"><span class="pre">EUR</span></tt>,
and not <tt class="docutils literal"><span class="pre">€</span></tt>.</p>
<p>The codes are case sensitive.</p>
</div>
<div class="section" id="all-monetary-amounts-are-represented-as-integers-in-its-smallest-currency-unit">
<h3>All monetary amounts are represented as integers in its smallest currency unit<a class="headerlink" href="#all-monetary-amounts-are-represented-as-integers-in-its-smallest-currency-unit" title="Permalink to this headline">¶</a></h3>
<p>All money types are integers and conform to its smallest <em>commonly used</em> currency unit. For example, if the currency of
a payment is in euros (EUR), the values of money fields conform to euro cents. So an amount of EUR 9,95 is represented
as <tt class="docutils literal"><span class="pre">995</span></tt>.</p>
<p>See the currency exponent as defined by <a class="reference external" href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> to find the smallest commonly
used currency unit for a given currency.</p>
</div>
<div class="section" id="all-numbers-are-integers-unless-precision-is-not-important">
<h3>All numbers are integers unless precision is not important<a class="headerlink" href="#all-numbers-are-integers-unless-precision-is-not-important" title="Permalink to this headline">¶</a></h3>
<p>Most numbers need to be precise. Rounding due to using a floating point (64-bit IEEE754, or 32-bit IEEE754) can lead to
unexpected errors. There are 2 allowed representations for numbers:</p>
<ul class="simple">
<li>represent the number in some exponent (e.g. in cm instead of m), this is REQUIRED for monetary amounts
(see previous rule),</li>
<li>represent the precise number as a string.</li>
</ul>
<p>The first option is preferred. However, for larger numbers (JSON does not support numbers above 2^52), the second option
MUST be selected.</p>
<p>There are few exceptions to this rule. Here is the list of known and allowed exceptions:</p>
<ul class="simple">
<li>Coordinates as described by WGS84 (or other geographic coordinate systems that use floating point numbers).</li>
<li>Rates or ratios that have a value between <tt class="docutils literal"><span class="pre">0.0</span></tt> and <tt class="docutils literal"><span class="pre">1.0</span></tt>.</li>
</ul>
<p>See also the list of supported field types: <a class="reference internal" href="40-documentation-requirements.html#field-types"><em>Field types</em></a></p>
</div>
<div class="section" id="binary-field-values">
<h3>Binary field values<a class="headerlink" href="#binary-field-values" title="Permalink to this headline">¶</a></h3>
<p>See the list of supported field types: <a class="reference internal" href="40-documentation-requirements.html#field-types"><em>Field types</em></a></p>
</div>
</div>
<div class="section" id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<p>This section was inspired by the article
<a class="reference external" href="http://soabits.blogspot.dk/2013/05/error-handling-considerations-and-best.html">Error handling considerations and best practices</a>
and <a class="reference external" href="https://github.com/blongden/vnd.error">vnd.error</a> format.</p>
<div class="section" id="error-messages-follow-a-standard-format">
<h3>Error messages follow a standard format<a class="headerlink" href="#error-messages-follow-a-standard-format" title="Permalink to this headline">¶</a></h3>
<p>Here is an example request that produces an error response:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">POST</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">categories</span><span class="o">/</span><span class="mi">95</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>
<span class="nx">Accept</span><span class="o">-</span><span class="nx">Language</span><span class="o">:</span> <span class="nx">nl</span><span class="p">,</span> <span class="nx">en</span>
<span class="nx">If</span><span class="o">-</span><span class="nx">Match</span><span class="o">:</span> <span class="s2">&quot;qg7968osihugw&quot;</span>

<span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;abc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;parentCategoryId&quot;</span><span class="o">:</span> <span class="mi">91</span><span class="p">,</span>
    <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;Walnoot&quot;</span>
<span class="p">}</span>


<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">400</span> <span class="nx">Bad</span> <span class="nx">Request</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Language</span><span class="o">:</span> <span class="nx">nl</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;help&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/errors/validation-failure&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;logref&quot;</span><span class="o">:</span> <span class="s2">&quot;4298asfpohsa98yasohq97q3yff22&quot;</span><span class="p">,</span>
    <span class="s2">&quot;statuscode&quot;</span><span class="o">:</span> <span class="mi">400</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span> <span class="o">:</span> <span class="s2">&quot;validation-failure&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Validatie mislukt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;details&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;is&quot;</span><span class="p">,</span>        <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Is geen geldig getal.&quot;</span><span class="p">,</span>  <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="s2">&quot;not-a-number&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Minstens 15 karakters.&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="s2">&quot;too-short&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;15&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;&#39;%&#39; is niet toegestaan.&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="s2">&quot;pattern-did-not-match&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;[a-zA-Z0-9]{15,30}&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;shortName&quot;</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Is geen auto-merk.&quot;</span><span class="p">,</span>     <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="s2">&quot;not-a-car-brand&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;field1&quot;</span><span class="p">,</span> <span class="s2">&quot;field2&quot;</span><span class="p">],</span> <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Some error over multiple fields.&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="s2">&quot;a-b-c&quot;</span> <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The error format supports the following features:</p>
<ul class="simple">
<li>It contains messages that are suitable for display <em>to a human</em> (in the correct <em>language</em>).</li>
<li>It contains enough data to allow highlighting fields in a UI with relevant messages (again in the correct language).</li>
<li>It contains enough information to allow for automated processing.</li>
<li>It is suitable for JSONP.</li>
</ul>
<p>Here follows a description of the error format.</p>
<p>Error responses MUST follow the same representation rules as other resources: HAL, JSON in UTF-8 and content-type MUST be <tt class="docutils literal"><span class="pre">application/json</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">_link.help.href</span></tt> <em>(REQUIRED)</em> : A URL that refers to a help page that can be used by the developer that uses the API. (See <a class="reference internal" href="40-documentation-requirements.html#documentation"><em>Documentation requirements</em></a>.)
Note that we&#8217;re not using <tt class="docutils literal"><span class="pre">describedby</span></tt> (as in other HAL resource representations).</p>
<p><tt class="docutils literal"><span class="pre">logref</span></tt> <em>(REQUIRED)</em> : A unique identifier that can be used to find the error in the application logs on the server side (for example a request id).</p>
<p><tt class="docutils literal"><span class="pre">message</span></tt> <em>(REQUIRED)</em> : A human readable message related to the current error which may be displayed to the user of the api. The language of the message
SHOULD be selected from the <tt class="docutils literal"><span class="pre">Accept-Language</span></tt> header in the request (if present). If no language can be selected, there SHOULD be a fixed fall-back language.
The selected language MUST be set in the <tt class="docutils literal"><span class="pre">Content-Language</span></tt> response header.</p>
<p><tt class="docutils literal"><span class="pre">statuscode</span></tt> <em>(REQUIRED)</em>: MUST be the same as the HTTP Status code which is sent with this error. The reason to
include this in the JSON as well, is because if you are using the API over JSONP for example, there is no easy way
to get the error code. This is to make it more easy to use the API.</p>
<p><tt class="docutils literal"><span class="pre">code</span></tt> <em>(REQUIRED)</em> : An error code. The error code SHOULD be same as the last part of the help url and SHOULD
consist (mostly) out of lower case letters. (Letters allow for easier documentation-lookup then just a numeric code.)</p>
<p><tt class="docutils literal"><span class="pre">details</span></tt> <em>(optional)</em> : Field by field error messages.</p>
<p><tt class="docutils literal"><span class="pre">details[*].field</span></tt> or <tt class="docutils literal"><span class="pre">details[*].fields</span></tt> <em>(at least one is REQUIRED)</em> : Name of the field(s) that did not pass validation.</p>
<p><tt class="docutils literal"><span class="pre">details[*].message</span></tt> <em>(REQUIRED)</em> : A human readable description of the message for the given field in error. Please
make sure field contains a full sentence. The language SHOULD be the same as the language used in field <tt class="docutils literal"><span class="pre">message</span></tt> described above.</p>
<p><tt class="docutils literal"><span class="pre">details[*].code</span></tt> <em>(REQUIRED)</em> : A machine readable code for the error. The code SHOULD consist (mostly) out of lower case
letters.  (Letters allow for easier documentation-lookup then just a numeric code.)</p>
<p><tt class="docutils literal"><span class="pre">details[*].value</span></tt> <em>(optional)</em> : An optional value which supports the machine readable code. The actual value and
its format depends on the error code.</p>
<p>All fields MUST be string values.</p>
</div>
<div class="section" id="an-appropriate-status-code-must-be-used-when-serving-an-error-resource">
<h3>An appropriate status code MUST be used when serving an error resource<a class="headerlink" href="#an-appropriate-status-code-must-be-used-when-serving-an-error-resource" title="Permalink to this headline">¶</a></h3>
<p>When serving an error resource an appropriate status code MUST be used. E.g. 4xx for client errors and 5xx for
processing errors.</p>
<p>To determine which error code is appropriate, refer to the status codes section of this</p>
<img alt="_images/20-whhD1.png" src="_images/20-whhD1.png" />
<p>(Copied from <a class="reference external" href="http://i.stack.imgur.com/whhD1.png">http://i.stack.imgur.com/whhD1.png</a>.)</p>
</div>
<div class="section" id="stack-traces-must-not-be-included-in-the-error-message">
<h3>Stack traces MUST NOT be included in the error message<a class="headerlink" href="#stack-traces-must-not-be-included-in-the-error-message" title="Permalink to this headline">¶</a></h3>
<p>It may be tempting to include a stack trace for easier support when something goes wrong. Don&#8217;t do it! This kind of
information is too valuable for hackers and it is therefore not allowed.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="30-interaction-design.html" class="btn btn-neutral float-right" title="Interaction design"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="10-urls-and-uris.html" class="btn btn-neutral" title="URLs and URIs"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, ECG API Focus team.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>