

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>URLs and URIs &mdash; eCG API Guidelines 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="eCG API Guidelines 0.1 documentation" href="index.html"/>
        <link rel="next" title="Resource representation format" href="20-resource-representation-format.html"/>
        <link rel="prev" title="Principles" href="05-principles.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> eCG API Guidelines
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00-intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#overview-for-the-busy-developer">Overview for the busy developer</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#history">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#advantages">Advantages</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#the-future">The future</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#conventions">Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05-principles.html">Principles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="05-principles.html#technical-principles">Technical principles</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">URLs and URIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#base-url">Base URL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#base-url-should-be-short">Base URL should be short</a></li>
<li class="toctree-l3"><a class="reference internal" href="#https-must-be-used">Https MUST be used</a></li>
<li class="toctree-l3"><a class="reference internal" href="#base-url-must-end-in-a-version-number">Base URL MUST end in a version number</a></li>
<li class="toctree-l3"><a class="reference internal" href="#base-url-s-version-number-may-include-a-minor-version">Base URL&#8217;s version number MAY include a minor version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#url-and-uri-naming">URL and URI naming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#collection-names-should-be-a-plural-noun">Collection names SHOULD be a plural noun</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-names-should-be-a-singular-noun">Document names SHOULD be a singular noun</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship">Forward slash separator (<code class="docutils literal"><span class="pre">/</span></code>) MUST be used to indicate a hierarchical relationship</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uris-should-not-have-a-trailing-forward-slash">URIs SHOULD NOT have a trailing forward slash (<code class="docutils literal"><span class="pre">/</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hyphens-should-be-used-to-improve-the-readability-of-uris-not-underscores">Hyphens (<code class="docutils literal"><span class="pre">-</span></code>) SHOULD be used to improve the readability of URIs, not underscores (<code class="docutils literal"><span class="pre">_</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uri-paths-must-use-lowercase-letters">URI paths MUST use lowercase letters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#actions">Actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#query-parameters">Query parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-query-component-of-a-uri-should-be-used-to-filter-collections">The query component of a URI SHOULD be used to filter collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-parameters-offset-and-limit-should-be-used-to-paginate-collections-results">Query parameters <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> SHOULD be used to paginate collections results</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-expand-parameter-may-be-used-for-zooming">The <code class="docutils literal"><span class="pre">_expand</span></code> parameter MAY be used for zooming</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-include-and-exclude-query-parameters-may-be-used-for-selecting-fields">The <code class="docutils literal"><span class="pre">_include</span></code> and <code class="docutils literal"><span class="pre">_exclude</span></code> query parameters MAY be used for selecting fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-body-query-parameter-should-be-used-to-include-exclude-a-response-body">The <code class="docutils literal"><span class="pre">_body</span></code> query parameter SHOULD be used to include/exclude a response body</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-links-query-parameter-should-be-used-to-exclude-hal-s-links-field">The <code class="docutils literal"><span class="pre">_links</span></code> query parameter SHOULD be used to exclude HAL&#8217;s <code class="docutils literal"><span class="pre">_links</span></code> field</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mimicking-request-methods">Mimicking request methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-callback-parameter-may-be-used-to-return-a-jsonp-response">The <code class="docutils literal"><span class="pre">_callback</span></code> parameter MAY be used to return a JSONP response</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-prettyprint-parameter-may-be-used-to-pretty-print-the-response">The <code class="docutils literal"><span class="pre">_prettyprint</span></code> parameter MAY be used to pretty print the response</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-of-underscore-character">Use of underscore character</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="20-resource-representation-format.html">Resource representation format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#resources">Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#serialization-format-hal-in-utf-8-encoding">Serialization format: HAL in UTF-8 encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#the-base-url-is-a-hal-resource">The base URL is a HAL resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#each-resource-should-contain-a-self-link">Each resource SHOULD contain a <code class="docutils literal"><span class="pre">self</span></code> link</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#when-available-iana-registered-relation-types-should-be-used-as-link-relations">When available IANA registered relation types SHOULD be used as link relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#custom-link-relation-types-should-be-uri-s-that-when-dereferenced-in-a-web-browser-provide-relevant-documentation-in-the-form-of-an-html-page">Custom link relation types SHOULD be uri&#8217;s that when dereferenced in a web browser provide relevant documentation, in the form of an HTML page</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#curies-should-be-used-to-improve-readability-of-custom-relation-uris">Curies SHOULD be used to improve readability of custom relation URIs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#binary-resources">Binary resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#resource-collections">Resource collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#collections-must-be-homogeneous">Collections MUST be homogeneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#url-templates-are-recommended-in-links">URL templates are RECOMMENDED in Links</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#representation-and-pagination-of-collection-resources">Representation and pagination of collection resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#representation-and-pagination-of-embedded-collection-resources">Representation and pagination of embedded collection resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#relation-names">Relation names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#relation-names-must-be-in-english-unless-they-represent-a-product-or-company-name">Relation names MUST be in English unless they represent a product or company name</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#words-in-relation-names-must-be-separated-by-a-dash">Words in relation names MUST be separated by a dash <code class="docutils literal"><span class="pre">-</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-names">Field names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-be-in-english-unless-they-represent-a-product-or-company-name">Field names MUST be in English unless they represent a product or company name</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-have-consistent-semantics-and-representation">Field names MUST have consistent semantics and representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-use-camelcase-contain-only-latin-characters-a-z-a-z-0-9">Field names MUST use camelCase, contain only latin characters <code class="docutils literal"><span class="pre">a</span></code> - <code class="docutils literal"><span class="pre">z</span></code>, <code class="docutils literal"><span class="pre">A</span></code> - <code class="docutils literal"><span class="pre">Z</span></code>, <code class="docutils literal"><span class="pre">0</span></code> - <code class="docutils literal"><span class="pre">9</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-start-with-a-lowercase-letter-a-z">Field names MUST start with a lowercase letter, <code class="docutils literal"><span class="pre">a</span></code> - <code class="docutils literal"><span class="pre">z</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-deprecation">Field deprecation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-values">Field values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#structure-field-values">Structure field values</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#optional-fields-should-not-be-serialized-when-they-have-no-value">Optional fields SHOULD NOT be serialized when they have no value</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-timestamp-are-in-iso-8601">Field values that represent a timestamp are in ISO 8601</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-date-are-in-iso-8601">Field values that represent a date are in ISO 8601</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-countries-are-in-iso-3166-1-alpha-2-format">Field values that represent countries are in ISO 3166-1 alpha-2 format</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-currency-are-in-iso-4217">Field values that represent a currency are in ISO 4217</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#all-monetary-amounts-are-represented-as-integers-in-its-smallest-currency-unit">All monetary amounts are represented as integers in its smallest currency unit</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#all-numbers-are-integers-unless-precision-is-not-important">All numbers are integers unless precision is not important</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#binary-field-values">Binary field values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#errors">Errors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#error-messages-follow-a-standard-format">Error messages follow a standard format</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#an-appropriate-status-code-must-be-used-when-serving-an-error-resource">An appropriate status code MUST be used when serving an error resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#stack-traces-must-not-be-included-in-the-error-message">Stack traces MUST NOT be included in the error message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30-interaction-design.html">Interaction design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#request-methods">Request methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#resources-with-etag-support">Resources with <code class="docutils literal"><span class="pre">ETag</span></code> support</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#resources-without-etag-support">Resources without <code class="docutils literal"><span class="pre">ETag</span></code> support</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#post-must-be-used-to-create-a-new-resource-in-a-collection">POST must be used to create a new resource in a collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#put-must-be-used-to-completely-update-a-resource"><code class="docutils literal"><span class="pre">PUT</span></code> must be used to completely update a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#patch-must-be-used-to-partially-update-a-resource"><code class="docutils literal"><span class="pre">PATCH</span></code> must be used to partially update a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#delete-must-be-used-to-remove-a-resource-from-its-parent">DELETE must be used to remove a resource from its parent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#status-codes">Status codes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#ok-should-be-used-to-indicate-nonspecific-success">200 (“OK”) should be used to indicate nonspecific success</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#created-must-be-used-to-indicate-successful-resource-creation">201 (“Created”) must be used to indicate successful resource creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#accepted-must-be-used-to-indicate-successful-start-of-anasynchronous-action">202 (“Accepted”) must be used to indicate successful start of anasynchronous action</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#rule-204-no-content-should-be-used-when-the-response-body-is-intentionally-empty">Rule: 204 (“No Content”) should be used when the response body is intentionally empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#moved-permanently-should-be-used-to-relocate-resources">301 (“Moved Permanently”) should be used to relocate resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#found-should-not-be-used">302 (“Found”) should not be used</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#see-other-should-be-used-to-refer-the-client-to-a-different-uri">303 (“See Other”) should be used to refer the client to a different URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#bad-request-may-be-used-to-indicate-nonspecific-failure">400 (“Bad Request”) may be used to indicate nonspecific failure</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#unauthorized-must-be-used-when-there-is-a-problem-with-the-clients-credentials">401 (“Unauthorized”) must be used when there is a problem with the client’s credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#forbidden-should-be-used-to-forbid-access-regardless-of-authorization-state">403 (“Forbidden”) should be used to forbid access regardless of authorization state</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#not-found-must-be-used-when-a-clients-uri-cannot-be-mapped-to-a-resource">404 (“Not Found”) must be used when a client’s URI cannot be mapped to a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#method-not-allowed-must-be-used-when-the-http-method-is-not-supported">405 (“Method Not Allowed”) must be used when the HTTP method is not supported</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#conflict-should-be-used-to-indicate-a-violation-of-resource-state">409 (“Conflict”) should be used to indicate a violation of resource state</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#precondition-failed-should-be-used-to-support-conditional-operations">412 (“Precondition Failed”) should be used to support conditional operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#internal-server-error-should-be-used-to-indicate-api-malfunction">500 (“Internal Server Error”) should be used to indicate API malfunction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="90-webhooks.html">Webhooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#it-should-be-possible-to-programmatically-register-webhooks-via-the-api">It should be possible to programmatically register webhooks via the api</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#webhooks-may-be-registered-on-all-resource-types">Webhooks may be registered on all resource types</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#the-body-of-a-callback-must-be-a-hal-resource">The body of a callback must be a HAL resource</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#http-callbacks-should-be-signed">HTTP callbacks should be signed</a></li>
<li class="toctree-l2"><a class="reference internal" href="90-webhooks.html#events-pushed-to-the-consumers-may-additionally-be-exposed-in-a-collection-resource">Events pushed to the consumers may additionally be exposed in a collection resource</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="40-documentation-requirements.html">Documentation requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#documentation-urls">Documentation URLs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#documentation-base-url">Documentation base URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#id1">Documentation URLs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#resource-documentation">Resource documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#contents">Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#field-types">Field types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#document-link-relations">Document link relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#getting-started-guide">Getting started guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#api-reference">API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#example-code">Example code</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#todo">TODO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="50-security.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#oauth-2">OAuth 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#what-is-oauth-2-0">What is OAuth 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#oauth-2-0-roles">OAuth 2.0 Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#support-in-our-api-s">Support in our API&#8217;s</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#registration-of-clients">Registration of Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#scope">Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#application-specific-tokens">Application specific tokens</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#secure-implementation-of-oauth-2-0">Secure implementation of OAuth 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#rate-limiting">Rate limiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#general-security-advice">General security advice</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="60-versioning.html">Versioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#backward-compatible-changes">1. Backward compatible changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#clients-must-be-assumed-to-cope-with-backward-compatible-changes">Clients MUST be assumed to cope with backward compatible changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#do-not-remove-fields-when-it-will-be-replaced-by-another-field">Do not remove fields when it will be replaced by another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#old-links-may-be-deprecated-when-it-will-be-replaced-with-a-newer-version">Old links MAY be deprecated when it will be replaced with a newer version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-representation-changes">2. Resource representation changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-behavior-changes">3. Resource behavior changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="80-hal-and-our-deviations.html">HAL and our deviations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#content-type">Content-type</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#json">JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#field-names">Field names</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="99-todo.html">TODO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="99-todo.html#lots-of-small-edits">Lots of small edits</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">eCG API Guidelines</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>URLs and URIs</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/10-urls-and-uris.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="urls-and-uris">
<span id="url-and-uris"></span><span id="index-0"></span><h1>URLs and URIs<a class="headerlink" href="#urls-and-uris" title="Permalink to this headline">¶</a></h1>
<div class="section" id="base-url">
<h2>Base URL<a class="headerlink" href="#base-url" title="Permalink to this headline">¶</a></h2>
<p>Examples of good base URLs:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.platform.com/v1
https://api.platform.com/subsystem/v1.1
</pre></div>
</div>
<p>Not so good example (see rules below why):</p>
<div class="highlight-http"><div class="highlight"><pre>http://open.prod.platform.com/api/subsystem/services/1.2.4
</pre></div>
</div>
<div class="section" id="base-url-should-be-short">
<h3>Base URL should be short<a class="headerlink" href="#base-url-should-be-short" title="Permalink to this headline">¶</a></h3>
<p>The base URL SHOULD be short and easy to remember. The longer the domain name and path, the harder it is to use.</p>
</div>
<div class="section" id="https-must-be-used">
<h3>Https MUST be used<a class="headerlink" href="#https-must-be-used" title="Permalink to this headline">¶</a></h3>
<p>Https MUST be used. This solves a great deal of otherwise hard to tackle security problems.</p>
</div>
<div class="section" id="base-url-must-end-in-a-version-number">
<h3>Base URL MUST end in a version number<a class="headerlink" href="#base-url-must-end-in-a-version-number" title="Permalink to this headline">¶</a></h3>
<p>The version in the URL is the escape route to introduce breaking changes to the API. This should not be taken lightly
and therefore a single digit should be enough for a long time.</p>
<p>For clarity, the version MUST be preceded by a <code class="docutils literal"><span class="pre">v</span></code>.</p>
</div>
<div class="section" id="base-url-s-version-number-may-include-a-minor-version">
<h3>Base URL&#8217;s version number MAY include a minor version<a class="headerlink" href="#base-url-s-version-number-may-include-a-minor-version" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="60-versioning.html#versioning"><span>Versioning</span></a> for more information on when to use a minor version.</p>
</div>
</div>
<div class="section" id="url-and-uri-naming">
<h2>URL and URI naming<a class="headerlink" href="#url-and-uri-naming" title="Permalink to this headline">¶</a></h2>
<div class="section" id="collection-names-should-be-a-plural-noun">
<h3>Collection names SHOULD be a plural noun<a class="headerlink" href="#collection-names-should-be-a-plural-noun" title="Permalink to this headline">¶</a></h3>
<p>A URI identifying a collection of resources SHOULD be named with a plural noun, or noun phrase, as its path segment.
For example, the URI for a collection of categories may use the plural noun form as follows:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.platform.com/v1/categories
</pre></div>
</div>
</div>
<div class="section" id="document-names-should-be-a-singular-noun">
<h3>Document names SHOULD be a singular noun<a class="headerlink" href="#document-names-should-be-a-singular-noun" title="Permalink to this headline">¶</a></h3>
<p>A URI representing a document resource SHOULD be named with a singular noun or noun phrase path segment.
For example, the URI for a single seller profile document would have the singular form:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.platform.com/v1/users/1/profile
</pre></div>
</div>
</div>
<div class="section" id="forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship">
<h3>Forward slash separator (<code class="docutils literal"><span class="pre">/</span></code>) MUST be used to indicate a hierarchical relationship<a class="headerlink" href="#forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship" title="Permalink to this headline">¶</a></h3>
<p>The forward slash (<code class="docutils literal"><span class="pre">/</span></code>) character MUST be used in the path portion of the URI to indicate a hierarchical relationship between resources. For example:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.platform.com/v1/categories/91/advertisements
</pre></div>
</div>
</div>
<div class="section" id="uris-should-not-have-a-trailing-forward-slash">
<h3>URIs SHOULD NOT have a trailing forward slash (<code class="docutils literal"><span class="pre">/</span></code>)<a class="headerlink" href="#uris-should-not-have-a-trailing-forward-slash" title="Permalink to this headline">¶</a></h3>
<p>As the last character within a URI’s path, a forward slash (<code class="docutils literal"><span class="pre">/</span></code>) adds no semantic value and may cause confusion.
REST APIs should not expect a trailing slash and SHOULD NOT include them in the links that they provide to clients.</p>
<p>Many web components and frameworks will treat the following two URIs equally:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.platform.com/v1/categories/
https://api.platform.com/v1/categories
</pre></div>
</div>
<p>However, every character within a URI counts toward a resource’s unique identity.
Two different URIs must map to two different resources. If the URIs differ, then so do the resources, and vice versa.
Therefore, a REST API must generate and communicate clean URIs and SHOULD be intolerant of any client’s attempts to
identify a resource imprecisely.</p>
<p>Redirects (e.g. 301 Moved Permanently) from one version to the other MUST NOT be used. Some clients don&#8217;t support
redirects and we need to keep this consistent over our separate APIs.</p>
</div>
<div class="section" id="hyphens-should-be-used-to-improve-the-readability-of-uris-not-underscores">
<h3>Hyphens (<code class="docutils literal"><span class="pre">-</span></code>) SHOULD be used to improve the readability of URIs, not underscores (<code class="docutils literal"><span class="pre">_</span></code>)<a class="headerlink" href="#hyphens-should-be-used-to-improve-the-readability-of-uris-not-underscores" title="Permalink to this headline">¶</a></h3>
<p>To make your URIs easy for people to scan and interpret, use the hyphen (<code class="docutils literal"><span class="pre">-</span></code>) character to improve the readability of
names in long path segments.
Anywhere you would use a space or hyphen in English, you should use a hyphen in a URI. For example:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.platform.com/v1/this-is-an-endpoint-with-a-large-name
</pre></div>
</div>
</div>
<div class="section" id="uri-paths-must-use-lowercase-letters">
<h3>URI paths MUST use lowercase letters<a class="headerlink" href="#uri-paths-must-use-lowercase-letters" title="Permalink to this headline">¶</a></h3>
<p>Lowercase letters are preferred in URI paths since capital letters can sometimes cause problems.
RFC 3986 defines URIs as case-sensitive except for the scheme and host components.
For example:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.example.restapi.org/my-folder/my-doc
HTTPS://API.EXAMPLE.RESTAPI.ORG/my-folder/my-doc
https://api.example.restapi.org/My-Folder/my-doc
</pre></div>
</div>
<p>The first URL is fine and RFC3986 considers the second url to be identical to URL #1. But the third URL is not the same
as URIs one and two, which may give unnecessary confusion.</p>
<p>Parameters inside the URI path are excluded from this rule.</p>
</div>
<div class="section" id="actions">
<h3>Actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h3>
<p>Though it SHOULD be avoided, in some cases it is simply not possible to mold an action into REST&#8217;s resource model.
In those cases an action can be made available on a resource. To clearly indicate that a URL indicates an action
instead of a sub-resource, action URLs MUST contain the path segment <code class="docutils literal"><span class="pre">/actions/</span></code> in front of the action name.</p>
<p>For example:</p>
<div class="highlight-http"><div class="highlight"><pre>https://api.example.restapi.org/v1/message/1234/actions/mark-as-read
</pre></div>
</div>
</div>
</div>
<div class="section" id="query-parameters">
<h2>Query parameters<a class="headerlink" href="#query-parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-query-component-of-a-uri-should-be-used-to-filter-collections">
<h3>The query component of a URI SHOULD be used to filter collections<a class="headerlink" href="#the-query-component-of-a-uri-should-be-used-to-filter-collections" title="Permalink to this headline">¶</a></h3>
<p>A URI’s query component is a natural fit for supplying search criteria to a collection.</p>
<p>Example :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">?</span><span class="nx">casUser</span><span class="o">=</span><span class="kc">true</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>


<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users?casUser=true&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;curies&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/rels/{rel}.html&quot;</span><span class="p">,</span>
            <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ec&quot;</span>
          <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ec:user&quot;</span><span class="o">:</span> <span class="p">[{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users/2&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
           <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;2@platform.com&quot;</span><span class="p">,</span>
           <span class="s2">&quot;casUser&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="query-parameters-offset-and-limit-should-be-used-to-paginate-collections-results">
<span id="pagination-parameters"></span><h3>Query parameters <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> SHOULD be used to paginate collections results<a class="headerlink" href="#query-parameters-offset-and-limit-should-be-used-to-paginate-collections-results" title="Permalink to this headline">¶</a></h3>
<p>A REST API client SHOULD use query parameters <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> to paginate collections.</p>
<p>The <code class="docutils literal"><span class="pre">offset</span></code> parameter specifies the 0 based index of the first element to return in the response.
The <code class="docutils literal"><span class="pre">limit</span></code> parameter specifies the maximum number of contained elements to return in the response.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">?</span><span class="nx">offset</span><span class="o">=</span><span class="mi">0</span><span class="o">&amp;</span><span class="nx">limit</span><span class="o">=</span><span class="mi">2</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>  <span class="cm">/* See section `resource representation format` for an example. */</span> <span class="p">}</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> are only used for collection resources. Pagination of embedded (linked)
collections is done with the <code class="docutils literal"><span class="pre">_expand</span></code> query parameter.</p>
</div>
<div class="section" id="the-expand-parameter-may-be-used-for-zooming">
<span id="expand-parameter"></span><h3>The <code class="docutils literal"><span class="pre">_expand</span></code> parameter MAY be used for zooming<a class="headerlink" href="#the-expand-parameter-may-be-used-for-zooming" title="Permalink to this headline">¶</a></h3>
<p>Zooming is an optional technique that allows linked resources to be embedded. The embedded resources are serialized as
described by HAL.</p>
<p>The full syntax for the <code class="docutils literal"><span class="pre">_expand</span></code> parameter is:</p>
<div class="highlight-javascript"><div class="highlight"><pre>&lt;basic_expand&gt; = &lt;relation name&gt;[:&lt;offset&gt;:&lt;limit&gt;][(&lt;include field&gt;{,&lt;include field&gt;})]

&lt;rel_expand&gt; = &lt;basic_expand&gt;{/&lt;basic_expand&gt;}

_expand = &lt;rel_expand&gt;{,&lt;rel_expand&gt;}
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">[...]</span></code> indicates an optional clause and <code class="docutils literal"><span class="pre">{s...}</span></code> indicates an optional repeating clause with <code class="docutils literal"><span class="pre">s</span></code> as separator.</p>
<p>Here are some examples:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span>
<span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span><span class="o">/</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span>
<span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span><span class="p">,</span><span class="nx">ec</span><span class="o">:</span><span class="nx">child</span><span class="o">-</span><span class="nx">categories</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">10</span>
<span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span><span class="o">/</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span><span class="p">,</span><span class="nx">ec</span><span class="o">:</span><span class="nx">child</span><span class="o">-</span><span class="nx">categories</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">10</span><span class="o">/</span><span class="nx">ec</span><span class="o">:</span><span class="nx">child</span><span class="o">-</span><span class="nx">categories</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">10</span>
<span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">shortName</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Relation name</em></p>
<p>The relation name can be quite long, for example <code class="docutils literal"><span class="pre">https://api.platform.com/v1/docs/rels/users</span></code> and can contain
many separator characters. Therefor the relation name MUST be shortened with HAL&#8217;s
<a class="reference external" href="http://www.w3.org/TR/2010/NOTE-curie-20101216/">curie syntax</a>. Clients can obtain the correct prefix by getting
the non-expanded resource first and inspect the <code class="docutils literal"><span class="pre">curies</span></code> section inside the <code class="docutils literal"><span class="pre">_links</span></code> section. Implementations are
RECOMMENDED to verify the prefix but are free to ignore it.</p>
<p><em>Offset and limit</em></p>
<p>When the relation refers to a collection, the <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> parameters SHOULD be used for pagination. Offset
specifies the 0 based index of the first element to return in the response. Limit specifies the maximum number of
contained elements to return in the response.</p>
<p><em>Nesting expansion</em></p>
<p>An embedded resource can be further expanded by adding a slash (<code class="docutils literal"><span class="pre">/</span></code>) and another expand clause.</p>
<p><em>Multiple expansions</em></p>
<p>Multiple embedded resources can be expanded by adding a comma (<code class="docutils literal"><span class="pre">,</span></code>) and another expand clause. It is not possible to expand
multiple embedded resources in an embedded resource.</p>
<p><em>Implementation considerations</em></p>
<p>Documentation MUST specify exactly what parts of the <code class="docutils literal"><span class="pre">_expand</span></code> parameter are supported. It is not expected that
implementations support expansion in a generic way.</p>
<p><em>Example</em></p>
<p>Full example for a simple expansion (expand parent category in a category resource):</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">categories</span><span class="o">/</span><span class="mi">92</span><span class="o">?</span><span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">parent</span><span class="o">-</span><span class="nx">category</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/92&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;curies&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/rels/{rel}.html&quot;</span><span class="p">,</span>
            <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ec&quot;</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;ec:parent-category&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/91&quot;</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ec:parent-category&quot;</span><span class="o">:</span> <span class="p">{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/91&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">91</span><span class="p">,</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto&#39;s, motors en andere voertuigen&quot;</span><span class="p">,</span>
           <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;Auto&#39;s&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">92</span><span class="p">,</span>
    <span class="s2">&quot;parentCategoryId&quot;</span><span class="o">:</span> <span class="mi">91</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Alpha romeo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;Alpha romeo&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An example for a linked collection resource (expand messages in a conversation resource).
See <a class="reference external" href="representation-of-embedded-collection-resource">chapter 20</a> for the full representation.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">conversations</span><span class="o">/</span><span class="mi">1234</span><span class="o">?</span><span class="nx">_expand</span><span class="o">=</span><span class="nx">ec</span><span class="o">:</span><span class="nx">messages</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">10</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>


<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
  <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span>
  <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;ec:messages&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ec:message&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span> <span class="p">...</span> <span class="nx">message</span> <span class="nx">fields</span> <span class="p">...</span> <span class="p">},</span>
          <span class="p">{</span> <span class="p">...</span> <span class="nx">message</span> <span class="nx">fields</span> <span class="p">...</span> <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;offset&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;totalCount&quot;</span><span class="o">:</span> <span class="mi">25</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;1234&quot;</span><span class="p">,</span>
  <span class="p">...</span> <span class="nx">more</span> <span class="nx">conversation</span> <span class="nx">fields</span> <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="the-include-and-exclude-query-parameters-may-be-used-for-selecting-fields">
<span id="include-and-exclude-parameters"></span><h3>The <code class="docutils literal"><span class="pre">_include</span></code> and <code class="docutils literal"><span class="pre">_exclude</span></code> query parameters MAY be used for selecting fields<a class="headerlink" href="#the-include-and-exclude-query-parameters-may-be-used-for-selecting-fields" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">_include</span></code> and <code class="docutils literal"><span class="pre">_exclude</span></code> parameters MAY be used to select fields. If both parameters are present, only the
<code class="docutils literal"><span class="pre">_include</span></code> parameter MUST be used.</p>
<p>Both fields have a similar format. A list of comma separated field names are valid arguments for both <code class="docutils literal"><span class="pre">_include</span></code> and <code class="docutils literal"><span class="pre">_exclude</span></code>.</p>
<p>Nested fields may be specified with a <code class="docutils literal"><span class="pre">/</span></code> character. E.g. <code class="docutils literal"><span class="pre">seller/name</span></code> identifies the <code class="docutils literal"><span class="pre">name</span></code> field inside the
<code class="docutils literal"><span class="pre">seller</span></code> field.</p>
<p>Note that <code class="docutils literal"><span class="pre">_include</span></code> and <code class="docutils literal"><span class="pre">_exclude</span></code> only work on the fields of the requested resource, and not on embedded resources.</p>
</div>
<div class="section" id="the-body-query-parameter-should-be-used-to-include-exclude-a-response-body">
<span id="body-parameter"></span><h3>The <code class="docutils literal"><span class="pre">_body</span></code> query parameter SHOULD be used to include/exclude a response body<a class="headerlink" href="#the-body-query-parameter-should-be-used-to-include-exclude-a-response-body" title="Permalink to this headline">¶</a></h3>
<p>By default responses contain a body, even if it is mostly the same as what was posted. The <code class="docutils literal"><span class="pre">_body</span></code> parameter SHOULD be
used to change this behavior.</p>
<p>Parameter <code class="docutils literal"><span class="pre">_body</span></code> takes values <code class="docutils literal"><span class="pre">true</span></code> (the default) or <code class="docutils literal"><span class="pre">false</span></code>.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre>POST https://api.platform.com/v1/users?_body=false HTTP/1.1
Host: api.platform.com

{
    &quot;username&quot;: &quot;testUser&quot;,
    &quot;zipcode&quot;: &quot;1097DN&quot;,
    &quot;email&quot;: &quot;test@platform.com&quot;
}


HTTP/1.1 201 Created
Location: /v1/users/95
</pre></div>
</div>
<p>Note: the <code class="docutils literal"><span class="pre">_body</span></code> parameter SHOULD be supported by each method on each resource.</p>
</div>
<div class="section" id="the-links-query-parameter-should-be-used-to-exclude-hal-s-links-field">
<h3>The <code class="docutils literal"><span class="pre">_links</span></code> query parameter SHOULD be used to exclude HAL&#8217;s <code class="docutils literal"><span class="pre">_links</span></code> field<a class="headerlink" href="#the-links-query-parameter-should-be-used-to-exclude-hal-s-links-field" title="Permalink to this headline">¶</a></h3>
<p>By default responses contain one or more <code class="docutils literal"><span class="pre">_links</span></code> sections. The information in the <code class="docutils literal"><span class="pre">_links</span></code> section is normally
only used for discovery purposes and could be discarded for automated clients. The <code class="docutils literal"><span class="pre">_links</span></code> query parameter
SHOULD be used to exclude the <code class="docutils literal"><span class="pre">_links</span></code> fields.</p>
<p>Parameter <code class="docutils literal"><span class="pre">_links</span></code> takes values <code class="docutils literal"><span class="pre">true</span></code> (the default) or <code class="docutils literal"><span class="pre">false</span></code>.</p>
<p>HAL&#8217;s <code class="docutils literal"><span class="pre">_links</span></code> fields are exclude when the parameter is present and has value false.</p>
<p>For example the representation</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;curies&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/docs/rels/{rel}.html&quot;</span><span class="p">,</span>
            <span class="s2">&quot;templated&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ec&quot;</span>
          <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ec:user&quot;</span><span class="o">:</span> <span class="p">[{</span>
           <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users/2&quot;</span> <span class="p">},</span>
           <span class="p">},</span>
           <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
           <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;2@platform.com&quot;</span><span class="p">,</span>
           <span class="s2">&quot;casUser&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
<p>will be shortened to:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;_embedded&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ec:user&quot;</span><span class="o">:</span> <span class="p">[{</span>
           <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
           <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
           <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;2@platform.com&quot;</span><span class="p">,</span>
           <span class="s2">&quot;casUser&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note: the <code class="docutils literal"><span class="pre">_links</span></code> parameter SHOULD be supported by each method on each resource.</p>
<p>Note that curie syntax may be used inside the representation (<code class="docutils literal"><span class="pre">ec:user</span></code> in the example), even though the curie
definition is no longer present.</p>
</div>
<div class="section" id="mimicking-request-methods">
<span id="method-parameter"></span><h3>Mimicking request methods<a class="headerlink" href="#mimicking-request-methods" title="Permalink to this headline">¶</a></h3>
<p>Some clients do not support all methods. Therefore we support other ways to mimic any request method:</p>
<ol class="arabic simple">
<li>The value of <code class="docutils literal"><span class="pre">_method</span></code> URL parameter MUST be interpreted as the intended request method.</li>
<li>The value of request header <code class="docutils literal"><span class="pre">X-HTTP-METHOD-OVERRIDE</span></code> MUST be interpreted as the intended request method.</li>
<li>The value of request header <code class="docutils literal"><span class="pre">X-HTTP-METHOD</span></code> MAY be interpreted as the intended request method.</li>
<li>The value of request header <code class="docutils literal"><span class="pre">X-METHOD-OVERRIDE</span></code> MAY be interpreted as the intended request method.</li>
</ol>
<p>These ways MUST be evaluated in the given order; the first found value overrides all following. When during evaluation
of a parameter or header value an unknown or illegal method is encountered, an <code class="docutils literal"><span class="pre">400</span></code> error response MUST be given,
independent of the correctness of other available values.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">POST</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">advertisements</span><span class="o">/</span><span class="mi">95</span><span class="o">?</span><span class="nx">_method</span><span class="o">=</span><span class="nx">PATCH</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="o">-</span><span class="nx">patch</span><span class="o">+</span><span class="nx">json</span>
<span class="nx">If</span><span class="o">-</span><span class="nx">Match</span><span class="o">:</span> <span class="s2">&quot;abc123&quot;</span>

<span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;replace&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/title&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;new advertisement title&quot;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;replace&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/price&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mi">9000</span> <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>is interpreted as a <code class="docutils literal"><span class="pre">PATCH</span></code> request.</p>
<p>A failure example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">POST</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">advertisements</span><span class="o">/</span><span class="mi">95</span><span class="o">?</span><span class="nx">_method</span><span class="o">=</span><span class="nx">BLABLA</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>
<span class="nx">X</span><span class="o">-</span><span class="nx">HTTP</span><span class="o">-</span><span class="nx">METHOD</span><span class="o">-</span><span class="nx">OVERRIDE</span><span class="o">:</span> <span class="nx">PATCH</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="o">-</span><span class="nx">patch</span><span class="o">+</span><span class="nx">json</span>
<span class="nx">If</span><span class="o">-</span><span class="nx">Match</span><span class="o">:</span> <span class="s2">&quot;abc123&quot;</span>

<span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;replace&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/title&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;new advertisement title&quot;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;replace&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/price&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="mi">9000</span> <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>results in an <code class="docutils literal"><span class="pre">400</span></code> error response because the <code class="docutils literal"><span class="pre">_method</span></code> parameter contains an illegal method, even though the
<code class="docutils literal"><span class="pre">X-HTTP-METHOD-OVERRIDE</span></code> header does contain a correct value.</p>
</div>
<div class="section" id="the-callback-parameter-may-be-used-to-return-a-jsonp-response">
<h3>The <code class="docutils literal"><span class="pre">_callback</span></code> parameter MAY be used to return a JSONP response<a class="headerlink" href="#the-callback-parameter-may-be-used-to-return-a-jsonp-response" title="Permalink to this headline">¶</a></h3>
<p>A <code class="docutils literal"><span class="pre">_callback</span></code> parameter MAY be used in any <code class="docutils literal"><span class="pre">GET</span></code> call to have the results wrapped in a javascript function.
This is typically used when browsers want to embed content in web pages by getting around cross domain
issues. The response includes the same data output as the regular API, plus the relevant HTTP Header information.</p>
<p>The content type of the response MUST be <code class="docutils literal"><span class="pre">application/javascript</span></code>.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">/</span><span class="mi">2</span><span class="o">?</span><span class="nx">_callback</span><span class="o">=</span><span class="nx">foo</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">javascript</span>
<span class="nx">foo</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/users/2&quot;</span> <span class="p">},</span> <span class="p">...</span>
        <span class="p">},</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Richard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;r2@hotmail.com&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="the-prettyprint-parameter-may-be-used-to-pretty-print-the-response">
<span id="prettyprint-parameter"></span><h3>The <code class="docutils literal"><span class="pre">_prettyprint</span></code> parameter MAY be used to pretty print the response<a class="headerlink" href="#the-prettyprint-parameter-may-be-used-to-pretty-print-the-response" title="Permalink to this headline">¶</a></h3>
<p>Implementation MAY support the <code class="docutils literal"><span class="pre">?_prettyprint</span></code> parameter to make it easier for people to view, read and understand
resources. Formatting SHOULD be enabled when the parameter is present and does not have the value <code class="docutils literal"><span class="pre">false</span></code>.</p>
<p>Consider enabling pretty printing by default for documentation resources only (e.g. the <code class="docutils literal"><span class="pre">/</span></code> resource).</p>
<p>Example :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">GET</span> <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">categories</span><span class="o">/</span><span class="mi">95</span><span class="o">?</span><span class="nx">_prettyprint</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="nx">Host</span><span class="o">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">com</span>

<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
    <span class="s2">&quot;_links&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;self&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="s2">&quot;/v1/categories/95&quot;</span> <span class="p">},</span> <span class="p">...</span>
    <span class="p">},</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">95</span><span class="p">,</span>
    <span class="s2">&quot;parentCategoryId&quot;</span><span class="o">:</span> <span class="mi">91</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;BMW&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shortName&quot;</span><span class="o">:</span> <span class="s2">&quot;BMW&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="use-of-underscore-character">
<h3>Use of underscore character<a class="headerlink" href="#use-of-underscore-character" title="Permalink to this headline">¶</a></h3>
<p>The underscore character is used to clearly identify shared URL parameters. The underscore is nicely consistent with how it is used in HAL resource representations.</p>
<p>Parameter names MUST NOT start with an underscore unless they are described in these guidelines.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="20-resource-representation-format.html" class="btn btn-neutral float-right" title="Resource representation format" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="05-principles.html" class="btn btn-neutral" title="Principles" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, ECG API Focus team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>