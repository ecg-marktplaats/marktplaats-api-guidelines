

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Webhooks &mdash; eCG API Guidelines 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="eCG API Guidelines 0.1 documentation" href="index.html"/>
        <link rel="next" title="Documentation requirements" href="40-documentation-requirements.html"/>
        <link rel="prev" title="Interaction design" href="30-interaction-design.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> eCG API Guidelines
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00-intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#overview-for-the-busy-developer">Overview for the busy developer</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#history">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#advantages">Advantages</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#the-future">The future</a></li>
<li class="toctree-l2"><a class="reference internal" href="00-intro.html#conventions">Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05-principles.html">Principles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="05-principles.html#technical-principles">Technical principles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="10-urls-and-uris.html">URLs and URIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#base-url">Base URL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#base-url-should-be-short">Base URL should be short</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#https-must-be-used">Https MUST be used</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#base-url-must-end-in-a-version-number">Base URL MUST end in a version number</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#base-url-s-version-number-may-include-a-minor-version">Base URL&#8217;s version number MAY include a minor version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#url-and-uri-naming">URL and URI naming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#collection-names-should-be-a-plural-noun">Collection names SHOULD be a plural noun</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#document-names-should-be-a-singular-noun">Document names SHOULD be a singular noun</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#forward-slash-separator-must-be-used-to-indicate-a-hierarchical-relationship">Forward slash separator (<code class="docutils literal"><span class="pre">/</span></code>) MUST be used to indicate a hierarchical relationship</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#uris-should-not-have-a-trailing-forward-slash">URIs SHOULD NOT have a trailing forward slash (<code class="docutils literal"><span class="pre">/</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#hyphens-should-be-used-to-improve-the-readability-of-uris-not-underscores">Hyphens (<code class="docutils literal"><span class="pre">-</span></code>) SHOULD be used to improve the readability of URIs, not underscores (<code class="docutils literal"><span class="pre">_</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#uri-paths-must-use-lowercase-letters">URI paths MUST use lowercase letters</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#actions">Actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="10-urls-and-uris.html#query-parameters">Query parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-query-component-of-a-uri-should-be-used-to-filter-collections">The query component of a URI SHOULD be used to filter collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#query-parameters-offset-and-limit-should-be-used-to-paginate-collections-results">Query parameters <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> SHOULD be used to paginate collections results</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-expand-parameter-may-be-used-for-zooming">The <code class="docutils literal"><span class="pre">_expand</span></code> parameter MAY be used for zooming</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-include-and-exclude-query-parameters-may-be-used-for-selecting-fields">The <code class="docutils literal"><span class="pre">_include</span></code> and <code class="docutils literal"><span class="pre">_exclude</span></code> query parameters MAY be used for selecting fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-body-query-parameter-should-be-used-to-include-exclude-a-response-body">The <code class="docutils literal"><span class="pre">_body</span></code> query parameter SHOULD be used to include/exclude a response body</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-links-query-parameter-should-be-used-to-exclude-hal-s-links-field">The <code class="docutils literal"><span class="pre">_links</span></code> query parameter SHOULD be used to exclude HAL&#8217;s <code class="docutils literal"><span class="pre">_links</span></code> field</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#mimicking-request-methods">Mimicking request methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-callback-parameter-may-be-used-to-return-a-jsonp-response">The <code class="docutils literal"><span class="pre">_callback</span></code> parameter MAY be used to return a JSONP response</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#the-prettyprint-parameter-may-be-used-to-pretty-print-the-response">The <code class="docutils literal"><span class="pre">_prettyprint</span></code> parameter MAY be used to pretty print the response</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-urls-and-uris.html#use-of-underscore-character">Use of underscore character</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="20-resource-representation-format.html">Resource representation format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#resources">Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#serialization-format-hal-in-utf-8-encoding">Serialization format: HAL in UTF-8 encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#the-base-url-is-a-hal-resource">The base URL is a HAL resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#each-resource-should-contain-a-self-link">Each resource SHOULD contain a <code class="docutils literal"><span class="pre">self</span></code> link</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#when-available-iana-registered-relation-types-should-be-used-as-link-relations">When available IANA registered relation types SHOULD be used as link relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#custom-link-relation-types-should-be-uri-s-that-when-dereferenced-in-a-web-browser-provide-relevant-documentation-in-the-form-of-an-html-page">Custom link relation types SHOULD be uri&#8217;s that when dereferenced in a web browser provide relevant documentation, in the form of an HTML page</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#curies-should-be-used-to-improve-readability-of-custom-relation-uris">Curies SHOULD be used to improve readability of custom relation URIs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#binary-resources">Binary resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#resource-collections">Resource collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#collections-must-be-homogeneous">Collections MUST be homogeneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#url-templates-are-recommended-in-links">URL templates are RECOMMENDED in Links</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#representation-and-pagination-of-collection-resources">Representation and pagination of collection resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#representation-and-pagination-of-embedded-collection-resources">Representation and pagination of embedded collection resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#relation-names">Relation names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#relation-names-must-be-in-english-unless-they-represent-a-product-or-company-name">Relation names MUST be in English unless they represent a product or company name</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#words-in-relation-names-must-be-separated-by-a-dash">Words in relation names MUST be separated by a dash <code class="docutils literal"><span class="pre">-</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-names">Field names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-be-in-english-unless-they-represent-a-product-or-company-name">Field names MUST be in English unless they represent a product or company name</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-have-consistent-semantics-and-representation">Field names MUST have consistent semantics and representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-use-camelcase-contain-only-latin-characters-a-z-a-z-0-9">Field names MUST use camelCase, contain only latin characters <code class="docutils literal"><span class="pre">a</span></code> - <code class="docutils literal"><span class="pre">z</span></code>, <code class="docutils literal"><span class="pre">A</span></code> - <code class="docutils literal"><span class="pre">Z</span></code>, <code class="docutils literal"><span class="pre">0</span></code> - <code class="docutils literal"><span class="pre">9</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-names-must-start-with-a-lowercase-letter-a-z">Field names MUST start with a lowercase letter, <code class="docutils literal"><span class="pre">a</span></code> - <code class="docutils literal"><span class="pre">z</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-deprecation">Field deprecation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#field-values">Field values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#structure-field-values">Structure field values</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#optional-fields-should-not-be-serialized-when-they-have-no-value">Optional fields SHOULD NOT be serialized when they have no value</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-timestamp-are-in-iso-8601">Field values that represent a timestamp are in ISO 8601</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-date-are-in-iso-8601">Field values that represent a date are in ISO 8601</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-countries-are-in-iso-3166-1-alpha-2-format">Field values that represent countries are in ISO 3166-1 alpha-2 format</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#field-values-that-represent-a-currency-are-in-iso-4217">Field values that represent a currency are in ISO 4217</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#all-monetary-amounts-are-represented-as-integers-in-its-smallest-currency-unit">All monetary amounts are represented as integers in its smallest currency unit</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#all-numbers-are-integers-unless-precision-is-not-important">All numbers are integers unless precision is not important</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#binary-field-values">Binary field values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20-resource-representation-format.html#errors">Errors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#error-messages-follow-a-standard-format">Error messages follow a standard format</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#an-appropriate-status-code-must-be-used-when-serving-an-error-resource">An appropriate status code MUST be used when serving an error resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-resource-representation-format.html#stack-traces-must-not-be-included-in-the-error-message">Stack traces MUST NOT be included in the error message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30-interaction-design.html">Interaction design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#request-methods">Request methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#resources-with-etag-support">Resources with <code class="docutils literal"><span class="pre">ETag</span></code> support</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#resources-without-etag-support">Resources without <code class="docutils literal"><span class="pre">ETag</span></code> support</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#post-must-be-used-to-create-a-new-resource-in-a-collection">POST must be used to create a new resource in a collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#put-must-be-used-to-completely-update-a-resource"><code class="docutils literal"><span class="pre">PUT</span></code> must be used to completely update a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#patch-must-be-used-to-partially-update-a-resource"><code class="docutils literal"><span class="pre">PATCH</span></code> must be used to partially update a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#delete-must-be-used-to-remove-a-resource-from-its-parent">DELETE must be used to remove a resource from its parent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="30-interaction-design.html#status-codes">Status codes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#ok-should-be-used-to-indicate-nonspecific-success">200 (“OK”) should be used to indicate nonspecific success</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#created-must-be-used-to-indicate-successful-resource-creation">201 (“Created”) must be used to indicate successful resource creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#accepted-must-be-used-to-indicate-successful-start-of-anasynchronous-action">202 (“Accepted”) must be used to indicate successful start of anasynchronous action</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#rule-204-no-content-should-be-used-when-the-response-body-is-intentionally-empty">Rule: 204 (“No Content”) should be used when the response body is intentionally empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#moved-permanently-should-be-used-to-relocate-resources">301 (“Moved Permanently”) should be used to relocate resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#found-should-not-be-used">302 (“Found”) should not be used</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#see-other-should-be-used-to-refer-the-client-to-a-different-uri">303 (“See Other”) should be used to refer the client to a different URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#bad-request-may-be-used-to-indicate-nonspecific-failure">400 (“Bad Request”) may be used to indicate nonspecific failure</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#unauthorized-must-be-used-when-there-is-a-problem-with-the-clients-credentials">401 (“Unauthorized”) must be used when there is a problem with the client’s credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#forbidden-should-be-used-to-forbid-access-regardless-of-authorization-state">403 (“Forbidden”) should be used to forbid access regardless of authorization state</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#not-found-must-be-used-when-a-clients-uri-cannot-be-mapped-to-a-resource">404 (“Not Found”) must be used when a client’s URI cannot be mapped to a resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#method-not-allowed-must-be-used-when-the-http-method-is-not-supported">405 (“Method Not Allowed”) must be used when the HTTP method is not supported</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#conflict-should-be-used-to-indicate-a-violation-of-resource-state">409 (“Conflict”) should be used to indicate a violation of resource state</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#precondition-failed-should-be-used-to-support-conditional-operations">412 (“Precondition Failed”) should be used to support conditional operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="30-interaction-design.html#internal-server-error-should-be-used-to-indicate-api-malfunction">500 (“Internal Server Error”) should be used to indicate API malfunction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Webhooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#it-should-be-possible-to-programmatically-register-webhooks-via-the-api">It should be possible to programmatically register webhooks via the api</a></li>
<li class="toctree-l2"><a class="reference internal" href="#webhooks-may-be-registered-on-all-resource-types">Webhooks may be registered on all resource types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-body-of-a-callback-must-be-a-hal-resource">The body of a callback must be a HAL resource</a></li>
<li class="toctree-l2"><a class="reference internal" href="#http-callbacks-should-be-signed">HTTP callbacks should be signed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#events-pushed-to-the-consumers-may-additionally-be-exposed-in-a-collection-resource">Events pushed to the consumers may additionally be exposed in a collection resource</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="40-documentation-requirements.html">Documentation requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#documentation-urls">Documentation URLs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#documentation-base-url">Documentation base URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#id1">Documentation URLs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#resource-documentation">Resource documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#contents">Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="40-documentation-requirements.html#field-types">Field types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#document-link-relations">Document link relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#getting-started-guide">Getting started guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#api-reference">API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#example-code">Example code</a></li>
<li class="toctree-l2"><a class="reference internal" href="40-documentation-requirements.html#todo">TODO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="50-security.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="50-security.html#oauth-2">OAuth 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#what-is-oauth-2-0">What is OAuth 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#oauth-2-0-roles">OAuth 2.0 Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#support-in-our-api-s">Support in our API&#8217;s</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#registration-of-clients">Registration of Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#scope">Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#application-specific-tokens">Application specific tokens</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#secure-implementation-of-oauth-2-0">Secure implementation of OAuth 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#rate-limiting">Rate limiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-security.html#general-security-advice">General security advice</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="60-versioning.html">Versioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#backward-compatible-changes">1. Backward compatible changes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#clients-must-be-assumed-to-cope-with-backward-compatible-changes">Clients MUST be assumed to cope with backward compatible changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#do-not-remove-fields-when-it-will-be-replaced-by-another-field">Do not remove fields when it will be replaced by another field</a></li>
<li class="toctree-l3"><a class="reference internal" href="60-versioning.html#old-links-may-be-deprecated-when-it-will-be-replaced-with-a-newer-version">Old links MAY be deprecated when it will be replaced with a newer version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-representation-changes">2. Resource representation changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="60-versioning.html#resource-behavior-changes">3. Resource behavior changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="80-hal-and-our-deviations.html">HAL and our deviations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#content-type">Content-type</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#json">JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="80-hal-and-our-deviations.html#field-names">Field names</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="99-todo.html">TODO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="99-todo.html#lots-of-small-edits">Lots of small edits</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">eCG API Guidelines</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Webhooks</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/90-webhooks.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="webhooks">
<span id="web-hooks"></span><span id="index-0"></span><h1>Webhooks<a class="headerlink" href="#webhooks" title="Permalink to this headline">¶</a></h1>
<p>The concept of a WebHook is simple. A WebHook is an HTTP callback: an HTTP POST that occurs when something happens; a simple event-notification via HTTP POST.
A web application implementing WebHooks will POST a message to a URL when certain things happen.
When a web application enables users to register their own URLs, the users can then extend, customize, and integrate that application with their own custom extensions or even with other applications around the web.
For the user, WebHooks are a way to receive valuable information when it happens, rather than continually polling for that data and receiving nothing valuable most of the time</p>
<div class="section" id="it-should-be-possible-to-programmatically-register-webhooks-via-the-api">
<h2>It should be possible to programmatically register webhooks via the api<a class="headerlink" href="#it-should-be-possible-to-programmatically-register-webhooks-via-the-api" title="Permalink to this headline">¶</a></h2>
<p>It SHOULD be possible to programmatically add, update and list webhooks by issueing POST, PUT and GET request against a resource collection containing webhooks.
The name of this collection SHOULD be hooks.</p>
<p>Example :</p>
<div class="highlight-http"><div class="highlight"><pre><span class="nf">POST</span> <span class="nn">/v1/hooks</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">api.provider.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://api.consumer.com/callback/url&quot;</span><span class="p">,</span>
  <span class="nt">&quot;events&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;transactionStatusChanged&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;secret&quot;</span><span class="p">:</span> <span class="s2">&quot;very_s3cr3t&quot;</span><span class="p">,</span>
  <span class="nt">&quot;active&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="webhooks-may-be-registered-on-all-resource-types">
<h2>Webhooks may be registered on all resource types<a class="headerlink" href="#webhooks-may-be-registered-on-all-resource-types" title="Permalink to this headline">¶</a></h2>
<p>Webhooks MAY be registered on individual resources such as advertisement entities, resource collections, such as a list of advertisements or on the
on the api root resource. This will ensure that consumers have fine grained control over what updates they are interested in</p>
</div>
<div class="section" id="the-body-of-a-callback-must-be-a-hal-resource">
<h2>The body of a callback must be a HAL resource<a class="headerlink" href="#the-body-of-a-callback-must-be-a-hal-resource" title="Permalink to this headline">¶</a></h2>
<p>The body of a callback must be a HAL resource and follow the rules defined resource representation format section of this document
Example :</p>
<div class="highlight-http"><div class="highlight"><pre>POST /callback/url HTTP/1.1
Host: api.consumer.com
Content-Type: application/json
X-Ecg-Signature: b613679a0814d9ec772f95d778c35fc5ff1697c493715653c6c712144292c5ad

{
  &quot;_links&quot;:{
    &quot;curies&quot;:[
      {
         &quot;href&quot;: &quot;/v1/docs/rels/{rel}.html&quot;,
         &quot;templated&quot;: true,
         &quot;name&quot;: &quot;ec&quot;
      }
    ]
  },
  &quot;_embedded&quot;: {
      &quot;ec:transaction&quot;: {
          &quot;_links&quot;: {
              &quot;self&quot;: { &quot;href&quot;: &quot; /v1/advertisements/m123456789/transactions/123&quot; }
          },
          &quot;transactionId&quot;: 2

          .. rest of the fields go here
      }
  },
  &quot;eventType&quot;: &quot;transactionStatusChanged&quot;,
  &quot;created&quot;: &quot;2014-07-03T15:14:06Z&quot;,
  &quot;eventData&quot;: {
      &quot;transactionId&quot;: 2,
      &quot;oldStatus&quot;: &quot;unpaid&quot;,
      &quot;newStatus&quot;: &quot;paid&quot;
  }
}
</pre></div>
</div>
</div>
<div class="section" id="http-callbacks-should-be-signed">
<h2>HTTP callbacks should be signed<a class="headerlink" href="#http-callbacks-should-be-signed" title="Permalink to this headline">¶</a></h2>
<p>HTTP callbacks SHOULD be signed so that the consumer can validate the message&#8217;s authenticity. The signature MUST be sent as a request header with the name X-Ecg-Signature
The signature MUST be a HMAC-SHA-256 hex digest of the payload, using the hook’s secret as the key. This secret have been provided as part of the hook&#8217;s registration.</p>
</div>
<div class="section" id="events-pushed-to-the-consumers-may-additionally-be-exposed-in-a-collection-resource">
<h2>Events pushed to the consumers may additionally be exposed in a collection resource<a class="headerlink" href="#events-pushed-to-the-consumers-may-additionally-be-exposed-in-a-collection-resource" title="Permalink to this headline">¶</a></h2>
<p>The events that are posted to the the registered consumer MAY also be exposed as a resource collection in the API.
The name of this collection resource SHOULD be events, and this collection MUST be exposed on the same level as the hooks resource.
When events are exposed in such a fashion then the events resources posted to the callback url MUST contain a self link.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="40-documentation-requirements.html" class="btn btn-neutral float-right" title="Documentation requirements" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="30-interaction-design.html" class="btn btn-neutral" title="Interaction design" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, ECG API Focus team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>